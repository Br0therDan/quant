# PROJECT.md
## ν”„λ΅μ νΈ κ°μ”
- **λ©ν‘**: Alpha Vantage API κΈ°λ°μ λ‹¨μΌ μ‚¬μ©μμ© ν€€νΈ λ°±ν…μ¤νΈ μ•± κ°λ°
- **MVP λ²”μ„**: μ‹¤μ‹κ°„ νΈλ μ΄λ”© μ μ™Έ, μ „λµ μλ¦½ λ° λ°±ν…μ¤νΈ μ¤‘μ‹¬
- **μ•„ν‚¤ν…μ²**: λ§μ΄ν¬λ΅μ„λΉ„μ¤ κΈ°λ° λ¨λ…Έλ ν¬ κµ¬μ΅°

---

## π—οΈ ν”„λ΅μ νΈ κµ¬μ΅°

```
quant/
β”β”€β”€ services/
β”‚   β”β”€β”€ data-service/          # λ°μ΄ν„° μμ§‘ λ° κ΄€λ¦¬
β”‚   β”β”€β”€ strategy-service/      # μ „λµ κ°λ° λ° κ΄€λ¦¬
β”‚   β”β”€β”€ backtest-service/      # λ°±ν…μ¤νΈ μ‹¤ν–‰ μ—”μ§„
β”‚   β””β”€β”€ analytics-service/     # μ„±κ³Ό λ¶„μ„ λ° λ¦¬ν¬νΈ
β”β”€β”€ frontend/                  # μ›Ή λ€μ‹λ³΄λ“ (ν–¥ν›„)
β”β”€β”€ shared/                    # κ³µν†µ λΌμ΄λΈλ¬λ¦¬
β”‚   β”β”€β”€ models/               # λ°μ΄ν„° λ¨λΈ
β”‚   β”β”€β”€ utils/                # μ ν‹Έλ¦¬ν‹° ν•¨μ
β”‚   β””β”€β”€ config/               # μ„¤μ • κ΄€λ¦¬
β”β”€β”€ tests/                    # ν†µν•© ν…μ¤νΈ
β””β”€β”€ scripts/                  # κ°λ° μ¤ν¬λ¦½νΈ
```

---

## π“‹ Phase 1: Core Infrastructure (2μ£Ό)

### Sprint 1.1: ν”„λ΅μ νΈ κΈ°λ° κµ¬μ¶•
- [ ] **UV ν™κ²½ κµ¬μ„±**: `pyproject.toml` μ„¤μ • λ° μμ΅΄μ„± κ΄€λ¦¬
- [ ] **κ³µν†µ λ¨λ“ κµ¬μ„±**: `shared/` λ””λ ‰ν† λ¦¬ κµ¬μ΅° λ° κΈ°λ³Έ λ¨λΈ
- [ ] **κ°λ° ν™κ²½**: black, ruff, mypy, pytest μ„¤μ •
- [ ] **CI/CD**: GitHub Actions μ›ν¬ν”λ΅μ°
- [ ] **ν™κ²½ λ³€μ**: `.env` κ΄€λ¦¬ λ° μ„¤μ • ν΄λμ¤ κµ¬ν„

### Sprint 1.2: Data Service κµ¬ν„
- [ ] **Alpha Vantage API ν΄λΌμ΄μ–ΈνΈ**:
  - μ‹κ³„μ—΄ λ°μ΄ν„° μμ§‘ (Daily, Intraday)
  - Rate limiting λ° μ—λ¬ ν•Έλ“¤λ§
  - μ¬μ‹λ„ λ΅μ§ κµ¬ν„
- [ ] **DuckDB μ¤ν‚¤λ§**:
  - μ‹κ³„μ—΄ λ°μ΄ν„° ν…μ΄λΈ” μ„¤κ³„
  - μΈλ±μ¤ λ° νν‹°μ…”λ‹ μ „λµ
- [ ] **λ°μ΄ν„° νμ΄ν”„λΌμΈ**:
  - μΊμ‹± λ©”μ»¤λ‹μ¦ (TTL κΈ°λ°)
  - κ²°μΈ΅μΉ λ³΄κ°„ (forward fill)
  - μ¤ν”λ¦Ώ/λ°°λ‹Ή μ΅°μ •

---

## π€ Phase 2: Strategy & Backtest Engine (4μ£Ό)

### Sprint 2.1: Strategy Service
- [ ] **μ „λµ ν”„λ μ„μ›ν¬**:
  - vectorbt κΈ°λ° λ°±ν…μ¤νΈ μ—”μ§„ μ„ νƒ
  - μ „λµ λ² μ΄μ¤ ν΄λμ¤ λ° μΈν„°νμ΄μ¤ μ •μ
- [ ] **κΈ°λ³Έ μ „λµ κµ¬ν„**:
  - Simple Moving Average Crossover
  - RSI Mean Reversion
  - Momentum Strategy
  - Buy & Hold λ²¤μΉλ§ν¬
- [ ] **μ „λµ μ„¤μ • κ΄€λ¦¬**:
  - Pydantic κΈ°λ° νλΌλ―Έν„° μ¤ν‚¤λ§
  - μ „λµλ³„ μ„¤μ • JSON ν…ν”λ¦Ώ

### Sprint 2.2: Backtest Service
- [ ] **λ°±ν…μ¤νΈ μ—”μ§„**:
  - κ±°λ μ‹λ®¬λ μ΄μ… λ΅μ§
  - μμλ£ λ° μ¬λ¦¬ν”Όμ§€ λ¨λΈλ§
  - ν¬μ§€μ… μ‚¬μ΄μ§• μ•κ³ λ¦¬μ¦
- [ ] **μ„±κ³Ό μ§€ν‘ κ³„μ‚°**:
  - μμµλ¥  μ§€ν‘ (CAGR, Total Return)
  - λ¦¬μ¤ν¬ μ§€ν‘ (Sharpe, Sortino, Calmar)
  - λ“λ΅λ‹¤μ΄ λ¶„μ„ (Max DD, Average DD)
- [ ] **κ²°κ³Ό μ €μ¥**:
  - λ°±ν…μ¤νΈ κ²°κ³Ό DuckDB μ €μ¥
  - κ±°λ λ΅κ·Έ λ° ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬

### Sprint 2.3: Analytics Service
- [ ] **μ„±κ³Ό λ¶„μ„**:
  - κΈ°κ°„λ³„ μμµλ¥  λ¶„μ„
  - λ²¤μΉλ§ν¬ λ€λΉ„ μ„±κ³Ό
  - μ„ν— μ΅°μ • μμµλ¥ 
- [ ] **μ‹κ°ν™”**:
  - matplotlib κΈ°λ° μ°¨νΈ μƒμ„±
  - Equity Curve, Drawdown Chart
  - μ›”λ³„/μ—°λ„λ³„ μμµλ¥  ννΈλ§µ

---

## π― Phase 3: User Experience (3μ£Ό)

### Sprint 3.1: CLI μΈν„°νμ΄μ¤
- [ ] **Typer κΈ°λ° CLI**:
  ```bash
  quant data fetch --symbol AAPL --interval daily --period 2y
  quant strategy create --template sma_cross --symbol AAPL
  quant backtest run --strategy my_sma --start 2022-01-01 --end 2023-12-31
  quant report show --backtest-id bt_20240913_001
  ```
- [ ] **Rich κΈ°λ° μ‹κ°ν™”**:
  - μ§„ν–‰λ¥  ν‘μ‹
  - ν…μ΄λΈ” ν•νƒ κ²°κ³Ό μ¶λ ¥
  - μ»¬λ¬ν’€ν• λ΅κ·Έ λ©”μ‹μ§€

### Sprint 3.2: μ„¤μ • κ΄€λ¦¬ λ° ν…ν”λ¦Ώ
- [ ] **μ „λµ ν…ν”λ¦Ώ μ‹μ¤ν…**:
  - μ‚¬μ „ μ •μλ μ „λµ ν…ν”λ¦Ώ
  - μ‚¬μ©μ μ •μ μ „λµ μ¶”κ°€ κΈ°λ¥
- [ ] **λ°±ν…μ¤νΈ ν”„λ¦¬μ…‹**:
  - μΌλ°μ μΈ λ°±ν…μ¤νΈ μ„¤μ • μ €μ¥
  - λΉ λ¥Έ μ¬μ‹¤ν–‰μ„ μ„ν• μ„¤μ • ν…ν”λ¦Ώ

---

## π”® Phase 4: Advanced Features (μ§€μ†μ )

### Sprint 4.1: μ „λµ μµμ ν™”
- [ ] **νλΌλ―Έν„° μµμ ν™”**:
  - Grid Search
  - Random Search
  - Bayesian Optimization (optuna)
- [ ] **Walk-Forward Analysis**:
  - μ‹κΈ°λ³„ μ„±κ³Ό κ²€μ¦
  - μ¤λ²„ν”Όν… λ°©μ§€

### Sprint 4.2: ν¬νΈν΄λ¦¬μ¤ λ°±ν…μ¤νΈ
- [ ] **λ‹¤μ¤‘ μμ‚° λ°±ν…μ¤νΈ**:
  - ν¬νΈν΄λ¦¬μ¤ λ¦¬λ°Έλ°μ‹±
  - μƒκ΄€κ΄€κ³„ λ¶„μ„
- [ ] **λ¦¬μ¤ν¬ κ΄€λ¦¬**:
  - ν¬μ§€μ… μ‚¬μ΄μ§• μµμ ν™”
  - VaR κ³„μ‚°

### Sprint 4.3: μ›Ή λ€μ‹λ³΄λ“ (μ„ νƒμ‚¬ν•­)
- [ ] **FastAPI λ°±μ—”λ“**:
  - RESTful API μ„¤κ³„
  - λ°±ν…μ¤νΈ κ²°κ³Ό API μ—”λ“ν¬μΈνΈ
- [ ] **React/Next.js ν”„λ΅ νΈμ—”λ“**:
  - μΈν„°λ™ν‹°λΈ μ°¨νΈ (plotly.js)
  - μ „λµ μ„¤μ • UI

---

## π› οΈ κΈ°μ  μ¤νƒ μƒμ„Έ

### λ°±μ—”λ“ μ„λΉ„μ¤
- **Python 3.12+**: νƒ€μ…ννΈ λ° μµμ‹  κΈ°λ¥ ν™μ©
- **UV**: κ³ μ† ν¨ν‚¤μ§€ κ΄€λ¦¬ λ° κ°€μƒν™κ²½
- **vectorbt**: κ³ μ„±λ¥ λ°±ν…μ¤νΈ μ—”μ§„
- **DuckDB**: λ΅μ»¬ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤
- **Alpha Vantage API**: μ‹μ¥ λ°μ΄ν„° μ†μ¤

### κ°λ° λ„κµ¬
- **black + ruff**: μ½”λ“ ν¬λ§·ν… λ° λ¦°ν…
- **mypy**: μ •μ  νƒ€μ… κ²€μ‚¬
- **pytest**: ν…μ¤νΈ ν”„λ μ„μ›ν¬
- **GitHub Actions**: CI/CD νμ΄ν”„λΌμΈ

### CLI & μ‹κ°ν™”
- **Typer**: λ¨λ CLI ν”„λ μ„μ›ν¬
- **Rich**: μ½μ†” μ¶λ ¥ κ°•ν™”
- **matplotlib/plotly**: μ°¨νΈ μƒμ„±

---

## π“ λ§μΌμ¤ν†¤ λ° μΌμ •

| Phase | κΈ°κ°„ | μ£Όμ” λ©ν‘ | μ™„λ£ κΈ°μ¤€ |
|-------|------|-----------|-----------|
| Phase 1 | 2μ£Ό | λ°μ΄ν„° μμ§‘ λ° κΈ°λ° κµ¬μ¶• | Alpha Vantage λ°μ΄ν„° μμ§‘ λ° DuckDB μ €μ¥ μ™„λ£ |
| Phase 2 | 4μ£Ό | λ°±ν…μ¤νΈ μ—”μ§„ λ° μ „λµ κµ¬ν„ | κΈ°λ³Έ μ „λµ 3κ° λ°±ν…μ¤νΈ μ‹¤ν–‰ κ°€λ¥ |
| Phase 3 | 3μ£Ό | CLI λ° μ‚¬μ©μ κ²½ν— κ°μ„  | μ™„μ „ν• CLI κΈ°λ° μ›ν¬ν”λ΅μ° μ™„μ„± |
| Phase 4 | μ§€μ†μ  | κ³ κΈ‰ κΈ°λ¥ λ° μµμ ν™” | μ „λµ μµμ ν™” λ° ν¬νΈν΄λ¦¬μ¤ λ°±ν…μ¤νΈ |

---

## π― μ„±κ³µ μ§€ν‘ (KPI)

- [ ] **κΈ°λ¥μ  λ©ν‘**:
  - 3κ° μ΄μƒμ κ²€μ¦λ μ „λµ κµ¬ν„
  - 1λ…„ μ΄μƒ κΈ°κ°„μ λ°±ν…μ¤νΈ μ‹¤ν–‰ κ°€λ¥
  - μ£Όμ” μ„±κ³Ό μ§€ν‘ 10κ° μ΄μƒ κ³„μ‚°

- [ ] **κΈ°μ μ  λ©ν‘**:
  - ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ 80% μ΄μƒ
  - νƒ€μ… κ²€μ‚¬ ν†µκ³Όμ¨ 100%
  - μ½”λ“ ν’μ§ μ¤μ½”μ–΄ A λ“±κΈ‰ (ruff κΈ°μ¤€)

- [ ] **μ‚¬μ©μ„± λ©ν‘**:
  - μƒ μ „λµ μ¶”κ°€ 30λ¶„ μ΄λ‚΄
  - λ°±ν…μ¤νΈ μ‹¤ν–‰ 5λ¶„ μ΄λ‚΄
  - μ§κ΄€μ μΈ CLI λ…λ Ήμ–΄ μ²΄κ³„
