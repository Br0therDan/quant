# Market Data Service κ³ λ„ν™” ν”„λ΅μ νΈ# Market Data Service κ³ λ„ν™” ν”„λ΅μ νΈ

**ν”„λ΅μ νΈ μ½”λ“**: PROJECT1-2025-10-07 | **μ‹μ‘μΌ**: 2025λ…„ 10μ›” 7μΌ**ν”„λ΅μ νΈ
μ½”λ“**: PROJECT1-2025-10-07 | **μ‹μ‘μΌ**: 2025λ…„ 10μ›” 7μΌ

## Phase 1: μ¤μΌ€ν΄λ”© λ° κΈ°μ΄μ‘μ—… β… μ™„λ£## Phase 1: μ¤μΌ€ν΄λ”© λ° κΈ°μ΄μ‘μ—… β… μ™„λ£

**λ©ν‘**: λ„λ©”μΈλ³„ κµ¬μ΅° μ„¤κ³„ λ° κΈ°μ΄ λ¨λΈ/μ¤ν‚¤λ§ κµ¬μ¶• **λ©ν‘**: λ„λ©”μΈλ³„ κµ¬μ΅°
μ„¤κ³„ λ° κΈ°μ΄ λ¨λΈ/μ¤ν‚¤λ§ κµ¬μ¶•

**ν„ν™©**: 100% μ™„λ£**ν„ν™©**: 100% μ™„λ£

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [x] λ„λ©”μΈλ³„ λ””λ ‰ν† λ¦¬ κµ¬μ΅° μƒμ„± (`services/`, `models/`, `schemas/`)- [x]
      λ„λ©”μΈλ³„ λ””λ ‰ν† λ¦¬ κµ¬μ΅° μƒμ„± (`services/`, `models/`, `schemas/`)

- [x] 4κ° λ„λ©”μΈ μ„λΉ„μ¤ ν΄λμ¤ μƒμ„± (Stock, Fundamental, Economic,
      Intelligence)- [x] 4κ° λ„λ©”μΈ μ„λΉ„μ¤ ν΄λμ¤ μƒμ„± (Stock, Fundamental,
      Economic, Intelligence)

- [x] Pydantic v2 κΈ°λ° λ¨λΈ/μ¤ν‚¤λ§ 30+ κ° κµ¬ν„- [x] Pydantic v2 κΈ°λ° λ¨λΈ/μ¤ν‚¤λ§
      30+ κ° κµ¬ν„

- [x] MongoDB μΈλ±μ¤ λ° λ°μ΄ν„° ν’μ§ μ‹μ¤ν… κµ¬ν„- [x] MongoDB μΈλ±μ¤ λ° λ°μ΄ν„°
      ν’μ§ μ‹μ¤ν… κµ¬ν„

## Phase 2: μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬μ„± β… μ™„λ£## Phase 2: μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬μ„± β… μ™„λ£

**λ©ν‘**: λ©€ν‹°λ λ²¨ μΊμ‹± λ° μμ΅΄μ„± μ£Όμ… ν¨ν„΄ κµ¬ν„ **λ©ν‘**: λ©€ν‹°λ λ²¨ μΊμ‹± λ°
μμ΅΄μ„± μ£Όμ… ν¨ν„΄ κµ¬ν„

**ν„ν™©**: 100% μ™„λ£**ν„ν™©**: 100% μ™„λ£

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [x] `BaseMarketDataService` μ¶”μƒ ν΄λμ¤ κµ¬ν„- [x] `BaseMarketDataService` μ¶”μƒ
      ν΄λμ¤ κµ¬ν„

- [x] DuckDB + MongoDB λ©€ν‹°λ λ²¨ μΊμ‹± μ‹μ¤ν… κµ¬μ¶•- [x] DuckDB + MongoDB λ©€ν‹°λ λ²¨
      μΊμ‹± μ‹μ¤ν… κµ¬μ¶•

- [x] ServiceFactory ν¨ν„΄ μ™„μ„±- [x] ServiceFactory ν¨ν„΄ μ™„μ„±

- [x] 4κ° λ„λ©”μΈλ³„ μ„λΉ„μ¤ κµ¬ν„ λ° ν†µν•©- [x] 4κ° λ„λ©”μΈλ³„ μ„λΉ„μ¤ κµ¬ν„ λ° ν†µν•©

## Phase 3: API λΌμ°ν„° κµ¬ν„ β… μ™„λ£## Phase 3: API λΌμ°ν„° κµ¬ν„ β… μ™„λ£

**λ©ν‘**: RESTful API μ„¤κ³„ λ° 21κ° μ—”λ“ν¬μΈνΈ κµ¬ν„ **λ©ν‘**: RESTful API μ„¤κ³„ λ°
21κ° μ—”λ“ν¬μΈνΈ κµ¬ν„

**ν„ν™©**: 100% μ™„λ£**ν„ν™©**: 100% μ™„λ£

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [x] λ„λ©”μΈλ³„ API λΌμ°ν„° λ¶„λ¦¬ (4κ° λ„λ©”μΈ)- [x] λ„λ©”μΈλ³„ API λΌμ°ν„° λ¶„λ¦¬ (4κ°
      λ„λ©”μΈ)

- [x] 21κ° RESTful μ—”λ“ν¬μΈνΈ κµ¬ν„- [x] 21κ° RESTful μ—”λ“ν¬μΈνΈ κµ¬ν„

- [x] λ κ±°μ‹ μ¤ν‚¤λ§ μ κ±° λ° λ§μ΄κ·Έλ μ΄μ…- [x] λ κ±°μ‹ μ¤ν‚¤λ§ μ κ±° λ° λ§μ΄κ·Έλ μ΄μ…

- [x] νƒ€μ… μ•μ „μ„± 100% λ‹¬μ„±- [x] νƒ€μ… μ•μ „μ„± 100% λ‹¬μ„±

- [x] `/api/v1/market-data/{domain}/` ν†µν•© κµ¬μ΅°- [x]
      `/api/v1/market-data/{domain}/` ν†µν•© κµ¬μ΅°

## Phase 4A: Pipeline ν†µν•© β… μ™„λ£## Phase 4A: Pipeline ν†µν•© β… μ™„λ£

**λ©ν‘**: μ¤‘λ³µ μ κ±° λ° μ•„ν‚¤ν…μ² ν†µν•© **λ©ν‘**: μ¤‘λ³µ μ κ±° λ° μ•„ν‚¤ν…μ² ν†µν•©

**ν„ν™©**: 100% μ™„λ£**ν„ν™©**: 100% μ™„λ£

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [x] Pipelineκ³Ό MarketData κ°„ 90% μ¤‘λ³µ μ κ±°- [x] Pipelineκ³Ό MarketData κ°„ 90%
      μ¤‘λ³µ μ κ±°

- [x] WatchlistService λ…λ¦½ λ¶„λ¦¬- [x] WatchlistService λ…λ¦½ λ¶„λ¦¬

- [x] MarketData Management API μ¶”κ°€- [x] MarketData Management API μ¶”κ°€

- [x] API κµ¬μ΅° ν†µν•© (`/api/v1/market-data/` λ‹¨μΌν™”)- [x] API κµ¬μ΅° ν†µν•©
      (`/api/v1/market-data/` λ‹¨μΌν™”)

## Phase 4B: Alpha Vantage API ν†µν•© β… μ™„λ£## Phase 4B: Alpha Vantage API ν†µν•© β… μ™„λ£

**λ©ν‘**: λ¨λ“  λ„λ©”μΈ Alpha Vantage API μ—°λ™ **λ©ν‘**: λ¨λ“  λ„λ©”μΈ Alpha Vantage
API μ—°λ™

**ν„ν™©**: 100% μ™„λ£ (20/20 λ©”μ„λ“)**ν„ν™©**: 100% μ™„λ£ (20/20 λ©”μ„λ“)

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [x] StockService - 5κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£- [x] StockService - 5κ°
      λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£

- [x] FundamentalService - 5κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£- [x]
      FundamentalService - 5κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£

- [x] EconomicIndicatorService - 4κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£- [x]
      EconomicIndicatorService - 4κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£

- [x] IntelligenceService - 6κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£- [x]
      IntelligenceService - 6κ° λ©”μ„λ“ Alpha Vantage μ—°λ™ μ™„λ£

## Phase 5: ν†µν•© ν…μ¤νΈ λ° μµμ ν™” π”„ μ§„ν–‰μ¤‘## Phase 5: ν†µν•© ν…μ¤νΈ λ° μµμ ν™” π”„ μ§„ν–‰μ¤‘

**λ©ν‘**: 21κ° μ—”λ“ν¬μΈνΈ ν†µν•© ν…μ¤νΈ λ° μ„±λ¥ μµμ ν™” **λ©ν‘**: 21κ° μ—”λ“ν¬μΈνΈ
ν†µν•© ν…μ¤νΈ λ° μ„±λ¥ μµμ ν™”

**ν„ν™©**: 0% (μ‹μ‘ μμ •)**ν„ν™©**: 0% (μ‹μ‘ μμ •)

### νƒμ¤ν¬ λ©λ΅### νƒμ¤ν¬ λ©λ΅

- [ ] 21κ° μ—”λ“ν¬μΈνΈ μ „μ²΄ ν†µν•© ν…μ¤νΈ- [ ] 21κ° μ—”λ“ν¬μΈνΈ μ „μ²΄ ν†µν•© ν…μ¤νΈ

- [ ] API μ‘λ‹µ μ‹κ°„ μµμ ν™” (λ©ν‘: < 500ms)- [ ] API μ‘λ‹µ μ‹κ°„ μµμ ν™” (λ©ν‘: <
      500ms)

- [ ] DuckDB μΊμ‹ ννΈμ¨ μµμ ν™” (λ©ν‘: > 80%)- [ ] DuckDB μΊμ‹ ννΈμ¨ μµμ ν™”
      (λ©ν‘: > 80%)

- [ ] μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„ λ΅μ§ κ²€μ¦- [ ] μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„ λ΅μ§ κ²€μ¦

- [ ] Alpha Vantage API Rate Limiting ν…μ¤νΈ- [ ] Alpha Vantage API Rate
      Limiting ν…μ¤νΈ

**μ¶”κ°€κ°μ„ ν•„μ”μ‚¬ν•­**:**μ¶”κ°€κ°μ„ ν•„μ”μ‚¬ν•­**:

- API μ„±λ¥ λ²¤μΉλ§ν‚Ή λ„κµ¬ κµ¬μ¶•- API μ„±λ¥ λ²¤μΉλ§ν‚Ή λ„κµ¬ κµ¬μ¶•

- λ¨λ‹ν„°λ§ λ° λ΅κΉ… μ‹μ¤ν… κ°•ν™”- λ¨λ‹ν„°λ§ λ° λ΅κΉ… μ‹μ¤ν… κ°•ν™”

- μΊμ‹ λ¬΄ν¨ν™” μ „λµ μµμ ν™”- μΊμ‹ λ¬΄ν¨ν™” μ „λµ μµμ ν™”
- [x] **StockService**: 5κ° λ©”μ„λ“ Alpha Vantage μ™„μ „ μ—°λ™ μ™„λ£
  - [x] `get_daily_prices()` - TIME_SERIES_DAILY_ADJUSTED API
  - [x] `get_real_time_quote()` - GLOBAL_QUOTE API
  - [x] `get_intraday_data()` - TIME_SERIES_INTRADAY API
  - [x] `get_historical_data()` - TIME_SERIES_DAILY_ADJUSTED API
  - [x] `search_symbols()` - μ •μ  λ°μ΄ν„°λ² μ΄μ¤ κΈ°λ° κ²€μƒ‰

**π”„ λ‚¨μ€ μ‘μ—…**:

- [ ] **ν†µν•© ν…μ¤νΈ**: 21κ° μ—”λ“ν¬μΈνΈ μ „μ²΄ κ²€μ¦
- [ ] **μ„±λ¥ μµμ ν™”**: API μ‘λ‹µ μ‹κ°„ < 500ms λ‹¬μ„±

## ν„μ¬ μ•„ν‚¤ν…μ²

### π—οΈ ν†µν•© μ•„ν‚¤ν…μ² (Phase 4A κ²°κ³Ό)

```
MarketDataService (μ‹μ¥ λ°μ΄ν„° μμ§‘/κ΄€λ¦¬)
β”β”€β”€ StockService (μ£Όκ°€ λ°μ΄ν„°) - β… 5/5 Alpha Vantage μ—°λ™ μ™„λ£
β”β”€β”€ FundamentalService (κΈ°μ—… μ •λ³΄) - β… 5/5 Alpha Vantage μ—°λ™ μ™„λ£
β”β”€β”€ EconomicIndicatorService (κ²½μ  μ§€ν‘) - β… 4/4 Alpha Vantage μ—°λ™ μ™„λ£
β”β”€β”€ IntelligenceService (λ‰΄μ¤/κ°μ •λ¶„μ„) - β… 6/6 Alpha Vantage μ—°λ™ μ™„λ£
β””β”€β”€ Management API (λ°μ΄ν„° μμ§‘ κ΄€λ¦¬) - β… μ™„λ£

WatchlistService (μ‚¬μ©μλ³„ μ›μΉλ¦¬μ¤νΈ) - β… μ™„λ£
β”β”€β”€ κ°μΈν™”λ μ‹¬λ³Ό κ΄€λ¦¬
β”β”€β”€ μλ™ λ°μ΄ν„° μμ§‘ νΈλ¦¬κ±°
β””β”€β”€ μ»¤λ²„λ¦¬μ§€ λ¨λ‹ν„°λ§
```

### οΏ½ API μ—”λ“ν¬μΈνΈ ν„ν™© (21κ°)

| λ„λ©”μΈ       | μ—”λ“ν¬μΈνΈ μ | Alpha Vantage μ—°λ™ | μƒνƒ     |
| ------------ | ------------- | ------------------ | -------- |
| Stock        | 5κ°           | β… 5/5 μ™„λ£        | β… μ™„λ£  |
| Fundamental  | 5κ°           | β… 5/5 μ™„λ£        | β… μ™„λ£  |
| Economic     | 5κ°           | β… 4/4 μ™„λ£        | β… μ™„λ£  |
| Intelligence | 6κ°           | β… 6/6 μ™„λ£        | β… μ™„λ£  |
| **μ΄κ³„**     | **21κ°**      | **20/20 μ™„λ£**     | **100%** |

## κΈ°μ μ  μ„±κ³Ό

### β… λ‹¬μ„±λ λ©ν‘

1. **μ•„ν‚¤ν…μ² ν„λ€ν™”**: λ„λ©”μΈλ³„ λ¶„λ¦¬ λ° ServiceFactory ν¨ν„΄
2. **API ν‘μ¤€ν™”**: RESTful μ„¤κ³„ μ›μΉ™ μ¤€μ
3. **νƒ€μ… μ•μ „μ„±**: Pydantic v2 + TypeScript μ™„μ „ μ§€μ›
4. **μ„±λ¥ μµμ ν™”**: DuckDB λ©€ν‹°λ λ²¨ μΊμ‹±
5. **μ¤‘λ³µ μ κ±°**: Pipeline ν†µν•©μΌλ΅ 90% μ¤‘λ³µ ν•΄κ²°
6. **μ™Έλ¶€ API ν†µν•©**: Alpha Vantage 20/20 λ©”μ„λ“ μ—°λ™ μ™„λ£

### π― μ„±κ³µ μ§€ν‘ ν„μ¬ μƒνƒ

| μ§€ν‘               | λ©ν‘           | ν„μ¬ μƒνƒ    | μ§„ν–‰λ¥  |
| ------------------ | -------------- | ------------ | ------ |
| μ•„ν‚¤ν…μ² κµ¬μ΅°      | λ„λ©”μΈλ³„ λ¶„λ¦¬  | β… μ™„λ£      | 100%   |
| API μ—”λ“ν¬μΈνΈ     | 21κ° κµ¬ν„      | β… μ™„λ£      | 100%   |
| Alpha Vantage μ—°λ™ | 20κ° λ©”μ„λ“    | β… 20κ° μ™„λ£ | 100%   |
| νƒ€μ… μ•μ „μ„±        | 100% νƒ€μ… ννΈ | β… μ™„λ£      | 100%   |
| μ¤‘λ³µ μ κ±°          | 90% μ¤‘λ³µ ν•΄κ²°  | β… μ™„λ£      | 100%   |

## λ‹¤μ λ‹¨κ³„

### π€ Phase 5: ν†µν•© ν…μ¤νΈ λ° μµμ ν™” (μ΄λ² μ£Ό)

**μ°μ„ μμ„ 1**: ν†µν•© ν…μ¤νΈ κµ¬ν„

- [ ] 21κ° μ—”λ“ν¬μΈνΈ ν†µν•© ν…μ¤νΈ μ‘μ„±
- [ ] Alpha Vantage API νΈμ¶ κ²€μ¦
- [ ] μΊμ‹ λ©”μ»¤λ‹μ¦ ν…μ¤νΈ
- [ ] μ—λ¬ ν•Έλ“¤λ§ ν…μ¤νΈ

**μ°μ„ μμ„ 2**: μ„±λ¥ μµμ ν™”

- [ ] API μ‘λ‹µ μ‹κ°„ μµμ ν™” (< 500ms λ©ν‘)
- [ ] μΊμ‹ ννΈμ¨ μµμ ν™” (> 80% λ©ν‘)
- [ ] DuckDB μΏΌλ¦¬ μµμ ν™”
- [ ] λ³‘λ ¬ μ²λ¦¬ κµ¬ν„

### π“… ν–¥ν›„ κ³„ν

**Week 1**: Phase 5 - ν†µν•© ν…μ¤νΈ λ° μµμ ν™”

- 21κ° μ—”λ“ν¬μΈνΈ ν†µν•© ν…μ¤νΈ κµ¬ν„
- API μ„±λ¥ λ²¤μΉλ§ν‚Ή λ° μµμ ν™”
- μΊμ‹ ν¨μ¨μ„± κ°μ„ 

**Week 2**: Phase 6 - ν”„λ΅ νΈμ—”λ“ ν†µν•©

- OpenAPI ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
- Next.js ν”„λ΅ νΈμ—”λ“ μ—°λ™
- μ‚¬μ©μ μΈν„°νμ΄μ¤ μ—…λ°μ΄νΈ

## ν”„λ΅μ νΈ μ”μ•½

**μ‹μ‘**: λ κ±°μ‹ λ‹¨μΌ λ¨λ“ κµ¬μ΅°  
**ν„μ¬**: λ„λ©”μΈλ³„ λ¶„λ¦¬λ ν„λ€μ  μ•„ν‚¤ν…μ² (100% Alpha Vantage μ—°λ™ μ™„λ£)  
**λ©ν‘**: ν†µν•© ν…μ¤νΈ μ™„λ£ λ° ν”„λ΅λ•μ… μ¤€λΉ„

**ν•µμ‹¬ μ„±κ³Ό**:

- β… 21κ° RESTful API μ—”λ“ν¬μΈνΈ κµ¬ν„ μ™„λ£
- β… 20κ° Alpha Vantage API λ©”μ„λ“ μ—°λ™ μ™„λ£
- β… 90% μ½”λ“ μ¤‘λ³µ μ κ±° λ° μ•„ν‚¤ν…μ² ν†µν•©
- β… μ™„μ „ν• νƒ€μ… μ•μ „μ„± λ° ν„λ€μ  κ°λ° κ²½ν—

**λ‚¨μ€ μ‘μ—…**: ν†µν•© ν…μ¤νΈ + μ„±λ¥ μµμ ν™” (μμƒ 1μ£ΌμΌ) 3. **λ¨λ†€λ¦¬μ‹ μ„λΉ„μ¤**:
market_data_service.py λ‹¨μΌ νμΌμ— λ¨λ“  λ΅μ§ μ§‘μ¤‘ 4. **ν™•μ¥μ„± λ¶€μ΅±**: μƒλ΅μ΄
λ°μ΄ν„° μ†μ¤λ‚ νƒ€μ… μ¶”κ°€ μ‹ μ μ—°μ„± λ¶€μ΅±

### mysingle-quant AlphaVantageClient κ³ λ„ν™” λ‚΄μ©

- **stock λ¨λ“**: μ£Όμ‹ λ°μ΄ν„° (daily, weekly, monthly, intraday, quote)
- **fundamental λ¨λ“**: κΈ°μ—… μ¬λ¬΄ λ°μ΄ν„° (income_statement, balance_sheet,
  cash_flow, earnings, overview)
- **economic_indicator λ¨λ“**: κ²½μ  μ§€ν‘ (GDP, inflation, unemployment, etc.)
- **intelligence λ¨λ“**: λ‰΄μ¤, κ°μ • λ¶„μ„, λ¶„μ„κ°€ μ¶”μ² λ“±

## Phase 1: μ¤μΌ€ν΄λ”© λ° κΈ°μ΄μ‘μ—… (λ¨λΈ, μ¤ν‚¤λ§ μ •μ)

### 1.1 μƒλ΅μ΄ μ„λΉ„μ¤ κµ¬μ΅° μƒμ„±

#### λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
app/services/market_data_service/
β”β”€β”€ __init__.py                    # λ©”μΈ μ„λΉ„μ¤ μΈν„°νμ΄μ¤
β”β”€β”€ stock_service.py              # μ£Όμ‹ λ°μ΄ν„° μ„λΉ„μ¤
β”β”€β”€ fundamental_service.py        # κΈ°μ—… μ¬λ¬΄ λ°μ΄ν„° μ„λΉ„μ¤
β”β”€β”€ economic_indicator_service.py # κ²½μ  μ§€ν‘ μ„λΉ„μ¤
β”β”€β”€ intelligence_service.py       # μΈν…”λ¦¬μ „μ¤ λ°μ΄ν„° μ„λΉ„μ¤
β””β”€β”€ base_service.py              # κ³µν†µ λ² μ΄μ¤ μ„λΉ„μ¤
```

### 1.2 λ¨λΈ κµ¬μ΅° μ¬μ„¤κ³„

#### μƒλ΅μ΄ λ¨λΈ κµ¬μ΅°

```
app/models/market_data/
β”β”€β”€ __init__.py                   # λ¨λ“  λ¨λΈ export
β”β”€β”€ stock.py                     # μ£Όμ‹ κ΄€λ ¨ λ¨λΈλ“¤
β”β”€β”€ fundamental.py               # κΈ°μ—… μ¬λ¬΄ κ΄€λ ¨ λ¨λΈλ“¤
β”β”€β”€ economic_indicator.py        # κ²½μ  μ§€ν‘ κ΄€λ ¨ λ¨λΈλ“¤
β”β”€β”€ intelligence.py              # μΈν…”λ¦¬μ „μ¤ κ΄€λ ¨ λ¨λΈλ“¤
β””β”€β”€ base.py                      # κ³µν†µ λ² μ΄μ¤ λ¨λΈ
```

#### μ£Όμ” λ¨λΈ μ •μ κ³„ν

**Stock Models (stock.py)**:

- `DailyPrice`: μΌμΌ μ£Όκ°€ λ°μ΄ν„°
- `IntradayPrice`: μ‹¤μ‹κ°„/λ¶„λ΄‰ λ°μ΄ν„°
- `Quote`: μ‹¤μ‹κ°„ νΈκ°€ λ°μ΄ν„°
- `Dividend`: λ°°λ‹Ή μ •λ³΄
- `Split`: μ£Όμ‹ λ¶„ν•  μ •λ³΄

**Fundamental Models (fundamental.py)**:

- `CompanyOverview`: κΈ°μ—… κ°μ”
- `IncomeStatement`: μ†μµκ³„μ‚°μ„
- `BalanceSheet`: μ¬λ¬΄μƒνƒν‘
- `CashFlow`: ν„κΈνλ¦„ν‘
- `Earnings`: μ‹¤μ  λ°ν‘
- `Ratios`: μ¬λ¬΄ λΉ„μ¨

**Economic Indicator Models (economic_indicator.py)**:

- `GDP`: GDP λ°μ΄ν„°
- `Inflation`: μΈν”λ μ΄μ… μ§€ν‘
- `InterestRate`: κΈλ¦¬ μ •λ³΄
- `Employment`: κ³ μ© μ§€ν‘
- `ConsumerSentiment`: μ†λΉ„μ μ‹¬λ¦¬

**Intelligence Models (intelligence.py)**:

- `News`: λ‰΄μ¤ λ°μ΄ν„°
- `SentimentAnalysis`: κ°μ • λ¶„μ„
- `AnalystRecommendation`: λ¶„μ„κ°€ μ¶”μ²
- `SocialSentiment`: μ†μ… λ―Έλ””μ–΄ κ°μ •

### 1.3. API μ¤ν‚¤λ§ μƒμ„± π“ β…

**λ©ν‘**: μƒλ΅μ΄ κµ¬μ΅°μ— λ§λ” API μ¤ν‚¤λ§ ν΄λμ¤λ“¤ μƒμ„±

**μ„μΉ**: `/backend/app/schemas/market_data/`

- `base.py` - κ³µν†µ μ¤ν‚¤λ§ ν΄λμ¤ β…
- `stock.py` - μ£Όμ‹ λ°μ΄ν„° κ΄€λ ¨ μ¤ν‚¤λ§ β…
- `fundamental.py` - κΈ°μ—… μ¬λ¬΄ λ°μ΄ν„° μ¤ν‚¤λ§ β…
- `economic_indicator.py` - κ²½μ  μ§€ν‘ μ¤ν‚¤λ§ β…
- `intelligence.py` - μ‹μ¥ μ§€λ¥ λ°μ΄ν„° μ¤ν‚¤λ§ β…

**μ²΄ν¬λ¦¬μ¤νΈ**:

- [x] base.py κ³µν†µ μ¤ν‚¤λ§ μƒμ„±
- [x] stock.py μ£Όμ‹ μ¤ν‚¤λ§ μƒμ„±
- [x] fundamental.py μ¬λ¬΄ μ¤ν‚¤λ§ μƒμ„±
- [x] economic_indicator.py κ²½μ  μ§€ν‘ μ¤ν‚¤λ§ μƒμ„±
- [x] intelligence.py μ‹μ¥ μ§€λ¥ μ¤ν‚¤λ§ μƒμ„±

**μ™„μ„±λ μ¤ν‚¤λ§ κµ¬μ΅°**:

- Request/Response μ¤ν‚¤λ§ νμ–΄: 65+ μ΅°ν•©
- μ™„μ „ν• νƒ€μ… μ•μ •μ„± λ° κ²€μ¦
- νμ΄μ§€λ„¤μ΄μ…, μ •λ ¬, ν•„ν„°λ§ μ§€μ›
- μ—λ¬ μ²λ¦¬ λ° λ©”νƒ€λ°μ΄ν„° ν¬ν•¨
- OpenAPI λ¬Έμ„ μλ™ μƒμ„± μ¤€λΉ„

### 1.4 μ‘μ—… μ„Έλ¶€ κ³„ν

#### Task 1.1: μ„λΉ„μ¤ κµ¬μ΅° μƒμ„±

- [x] `app/services/market_data_service/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] κ° μ„λΉ„μ¤ νμΌ μƒμ„± λ° κΈ°λ³Έ κµ¬μ΅° μ‘μ„±
- [x] κ³µν†µ μΈν„°νμ΄μ¤ λ° λ² μ΄μ¤ ν΄λμ¤ μ •μ

#### Task 1.2: λ¨λΈ κµ¬μ΅° μƒμ„±

- [x] `app/models/market_data/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] κ° λ¨λΈ νμΌ μƒμ„± λ° Pydantic v2 λ¨λΈ μ •μ
- [x] MongoDB μΈλ±μ¤ λ° μ„¤μ • μ •μ
- [x] λ¨λΈ κ°„ κ΄€κ³„ μ •μ

#### Task 1.3: μ¤ν‚¤λ§ κµ¬μ΅° μƒμ„±

- [x] `app/schemas/market_data/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] Request/Response μ¤ν‚¤λ§ μ •μ
- [x] κ²€μ¦ λ΅μ§ λ° λ³€ν™ ν•¨μ κµ¬ν„

#### Task 1.4: κΈ°μ΅΄ νμΌ μ •λ¦¬

- [x] κΈ°μ΅΄ `app/models/market_data.py` μ κ±°
- [x] κΈ°μ΅΄ `app/schemas/market_data.py` μ κ±°
- [x] imports λ° μμ΅΄μ„± μ—…λ°μ΄νΈ

## Phase 2: μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬μ„±

### 2.1 λ©ν‘

- κ° λ„λ©”μΈλ³„ μ „λ¬Έν™”λ μ„λΉ„μ¤ κµ¬ν„
- μΊμ‹± μ „λµ μλ™ν™” (MongoDB + DuckDB)
- AlphaVantage API ν¨μ¨μ  ν™μ©

### 2.2 μΊμ‹± μ „λµ

#### λ°μ΄ν„° νλ¦„

1. **API μ”μ²­ μμ‹ **
2. **DuckDB μΊμ‹ ν™•μΈ** (κ³ μ† μ•΅μ„Έμ¤)
3. **MongoDB λ³΄μ΅° ν™•μΈ** (λ©”νƒ€λ°μ΄ν„° ν¬ν•¨)
4. **AlphaVantage API νΈμ¶** (μΊμ‹ λ―Έμ¤ μ‹)
5. **λ°μ΄ν„° μ €μ¥** (DuckDB + MongoDB λ™μ‹)
6. **μ‘λ‹µ λ°ν™**

#### μ»¤λ²„λ¦¬μ§€ ν™•μΈ λ΅μ§

- μ”μ²­λ λ‚ μ§ λ²”μ„μ™€ κΈ°μ΅΄ λ°μ΄ν„° λ²”μ„ λΉ„κµ
- λ°μ΄ν„° ν’μ§ κ²€μ¦ (λ„λ½, μ¤‘λ³µ, μ΄μƒμΉ)
- μλ™ κ°±μ‹  μ£ΌκΈ° κ΄€λ¦¬

### 2.3 μ„λΉ„μ¤λ³„ κµ¬ν„ κ³„ν

#### StockService

- `get_daily_prices()`: μΌμΌ μ£Όκ°€ μ΅°ν
- `get_intraday_data()`: μ‹¤μ‹κ°„ λ°μ΄ν„° μ΅°ν
- `get_quote()`: ν„μ¬ νΈκ°€ μ΅°ν
- `get_historical_data()`: μ¥κΈ° νμ¤ν† λ¦¬ μ΅°ν

#### FundamentalService

- `get_company_overview()`: κΈ°μ—… κ°μ” μ΅°ν
- `get_financial_statements()`: μ¬λ¬΄μ ν‘ μ΅°ν
- `get_earnings()`: μ‹¤μ  λ°μ΄ν„° μ΅°ν
- `get_ratios()`: μ¬λ¬΄ λΉ„μ¨ μ΅°ν

#### EconomicIndicatorService

- `get_gdp_data()`: GDP λ°μ΄ν„° μ΅°ν
- `get_inflation_data()`: μΈν”λ μ΄μ… μ΅°ν
- `get_interest_rates()`: κΈλ¦¬ λ°μ΄ν„° μ΅°ν
- `get_employment_data()`: κ³ μ© μ§€ν‘ μ΅°ν

#### IntelligenceService

- `get_news()`: λ‰΄μ¤ λ°μ΄ν„° μ΅°ν
- `get_sentiment_analysis()`: κ°μ • λ¶„μ„ μ΅°ν
- `get_analyst_recommendations()`: λ¶„μ„κ°€ μ¶”μ² μ΅°ν

### 2.4 μ‘μ—… μ„Έλ¶€ κ³„ν

#### Task 2.1: λ² μ΄μ¤ μ„λΉ„μ¤ κµ¬ν„ β…

- [x] `BaseMarketDataService` ν΄λμ¤ μ •μ
- [x] κ³µν†µ μΊμ‹± λ΅μ§ κµ¬ν„ (DuckDB + MongoDB)
- [x] λ°μ΄ν„° ν’μ§ κ²€μ¦ λ΅μ§ κµ¬ν„ (`DataQualityValidator`)
- [x] μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„ λ΅μ§ κµ¬ν„

#### Task 2.2: κ° μ„λΉ„μ¤ κµ¬ν„ β…

- [x] StockService κµ¬ν„ (κΈ°λ³Έ daily_prices λ©”μ„λ“)
- [x] FundamentalService κµ¬ν„ (κΈ°μ—… κ°μ” λ“± ν”λ μ΄μ¤ν™€λ”)
- [x] EconomicIndicatorService κµ¬ν„ (GDP, μΈν”λ μ΄μ… λ“± ν”λ μ΄μ¤ν™€λ”)
- [x] IntelligenceService κµ¬ν„ (λ‰΄μ¤, κ°μ • λ¶„μ„ λ“± ν”λ μ΄μ¤ν™€λ”)

#### Task 2.3: ν†µν•© μ„λΉ„μ¤ κµ¬ν„ β…

- [x] ServiceFactoryμ— λ¨λ“  μ„λΉ„μ¤ μ¶”κ°€
- [x] μν™ import λ¬Έμ  ν•΄κ²°
- [x] μ¶”μƒ λ©”μ„λ“ κµ¬ν„ μ™„λ£
- [x] μ„λΉ„μ¤ ν©ν† λ¦¬ ν¨ν„΄ μ μ©
- [x] μμ΅΄μ„± μ£Όμ… μ„¤μ •

## Phase 3: μ—”λ“ν¬μΈνΈ κ³ λ„ν™” β… **μ™„λ£ (100%)**

### 3.1 λ©ν‘

- λ„λ©”μΈλ³„ λΌμ°ν„° λ¶„λ¦¬
- RESTful API μ„¤κ³„ μ›μΉ™ μ μ©
- μ„±λ¥ μµμ ν™” λ° μΊμ‹± ν™μ©

### 3.2 μƒλ΅μ΄ API κµ¬μ΅°

#### λΌμ°ν„° κµ¬μ΅° β…

```
app/api/routes/market_data/
β”β”€β”€ __init__.py                  # λ©”μΈ λΌμ°ν„° ν†µν•© β…
β”β”€β”€ stock.py                    # μ£Όμ‹ λ°μ΄ν„° API β…
β”β”€β”€ fundamental.py              # κΈ°μ—… μ¬λ¬΄ λ°μ΄ν„° API β…
β”β”€β”€ economic_indicator.py       # κ²½μ  μ§€ν‘ API β…
β”β”€β”€ intelligence.py             # μΈν…”λ¦¬μ „μ¤ λ°μ΄ν„° API β…
β””β”€β”€ health.py                   # ν—¬μ¤μ²΄ν¬ API β…
```

#### API μ—”λ“ν¬μΈνΈ μ™„μ„± μƒνƒ β…

**Stock APIs (/api/v1/market-data/stock/)** - 5κ° μ—”λ“ν¬μΈνΈ:

- β… `GET /daily/{symbol}`: μΌμΌ μ£Όκ°€ μ΅°ν (Alpha Vantage μ—°λ™ μ™„λ£)
- β… `GET /quote/{symbol}`: ν„μ¬ νΈκ°€ μ΅°ν (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /intraday/{symbol}`: μ‹¤μ‹κ°„ λ°μ΄ν„° μ΅°ν (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /historical/{symbol}`: μ¥κΈ° νμ¤ν† λ¦¬ μ΅°ν (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /symbols`: μ‚¬μ© κ°€λ¥ν• μ‹¬λ³Ό λ©λ΅ (μ„μ‹ λ°μ΄ν„°)

**Fundamental APIs (/api/v1/market-data/fundamental/)** - 5κ° μ—”λ“ν¬μΈνΈ:

- β… `GET /overview/{symbol}`: κΈ°μ—… κ°μ” (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /income-statement/{symbol}`: μ†μµκ³„μ‚°μ„ (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /balance-sheet/{symbol}`: μ¬λ¬΄μƒνƒν‘ (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /cash-flow/{symbol}`: ν„κΈνλ¦„ν‘ (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /earnings/{symbol}`: μ‹¤μ  λ°μ΄ν„° (ν”λ μ΄μ¤ν™€λ”)

**Economic Indicator APIs (/api/v1/market-data/economic/)** - 5κ° μ—”λ“ν¬μΈνΈ:

- β… `GET /gdp`: GDP λ°μ΄ν„° (EconomicIndicatorService μ—°λ™)
- β… `GET /inflation`: μΈν”λ μ΄μ… μ§€ν‘ (EconomicIndicatorService μ—°λ™)
- β… `GET /interest-rates`: κΈλ¦¬ μ •λ³΄ (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /employment`: κ³ μ© μ§€ν‘ (ν”λ μ΄μ¤ν™€λ”)
- β… `GET /consumer-sentiment`: μ†λΉ„μ μ‹¬λ¦¬ (ν”λ μ΄μ¤ν™€λ”)

**Intelligence APIs (/api/v1/market-data/intelligence/)** - 4κ° μ—”λ“ν¬μΈνΈ:

- β… `GET /news/{symbol}`: μΆ…λ© λ‰΄μ¤ (IntelligenceService μ—°λ™)
- β… `GET /sentiment/{symbol}`: κ°μ • λ¶„μ„ (IntelligenceService μ—°λ™)
- β… `GET /analyst-recommendations/{symbol}`: λ¶„μ„κ°€ μ¶”μ² (IntelligenceService
  μ—°λ™)
- β… `GET /social-sentiment/{symbol}`: μ†μ… λ―Έλ””μ–΄ κ°μ • (IntelligenceService
  μ—°λ™)

**κ³µν†µ APIs** - 2κ° μ—”λ“ν¬μΈνΈ:

- β… `GET /`: Market Data API μ •λ³΄
- β… `GET /health`: ν—¬μ¤μ²΄ν¬

### 3.3 μ‘μ—… μ™„λ£ μƒνƒ

#### Task 3.1: λΌμ°ν„° κµ¬μ΅° μƒμ„± β…

- [x] `app/api/routes/market_data/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] κ° λ„λ©”μΈλ³„ λΌμ°ν„° νμΌ μƒμ„±
- [x] κ³µν†µ μμ΅΄μ„± λ° λ―Έλ“¤μ›¨μ–΄ μ •μ
- [x] μƒλ΅μ΄ market_data v2 λΌμ°ν„° ν†µν•©

#### Task 3.2: API μ—”λ“ν¬μΈνΈ κµ¬ν„ β…

- [x] Stock API κµ¬ν„ (5κ° μ—”λ“ν¬μΈνΈ)
- [x] Fundamental API κµ¬ν„ (5κ° μ—”λ“ν¬μΈνΈ)
- [x] Economic Indicator API κµ¬ν„ (5κ° μ—”λ“ν¬μΈνΈ)
- [x] Intelligence API κµ¬ν„ (4κ° μ—”λ“ν¬μΈνΈ)
- [x] μ„λΉ„μ¤ μ—°λ™ λ° νλΌλ―Έν„° νƒ€μ… μ•μ „μ„± ν™•λ³΄

#### Task 3.3: κΈ°μ΅΄ νμΌ μ •λ¦¬ β…

- [x] κΈ°μ΅΄ `app/api/routes/market_data.py` κ°„μ†ν™” (λ κ±°μ‹ μ—”λ“ν¬μΈνΈλ΅ λ³€κ²½)
- [x] μƒλ΅μ΄ λ„λ©”μΈλ³„ κµ¬μ΅°λ΅ λΌμ°ν„° λ“±λ΅ μ—…λ°μ΄νΈ
- [x] λ κ±°μ‹ μ¤ν‚¤λ§ μ™„μ „ μ κ±°
- [x] API μ¤‘λ³µ κ²½λ΅ μ κ±° λ° μµμ ν™”

### 3.4 κΈ°μ μ  μ„±κ³Ό β…

#### 1. μ•„ν‚¤ν…μ² κ°μ„ 

- **λ„λ©”μΈ λ¶„λ¦¬**: 4κ° λ„λ©”μΈλ³„ λΌμ°ν„°λ΅ μ™„μ „ λ¶„λ¦¬
- **μ½”λ“ μ¬μ‚¬μ©μ„±**: κ³µν†µ λ² μ΄μ¤ ν΄λμ¤ λ° μμ΅΄μ„± ν™μ©
- **νƒ€μ… μ•μ „μ„±**: λ¨λ“  μ—”λ“ν¬μΈνΈμ—μ„ Pydantic μ¤ν‚¤λ§ μ μ©

#### 2. API μ„¤κ³„ μ›μΉ™

- **RESTful**: HTTP λ©”μ„λ“ λ° κ²½λ΅ μ„¤κ³„ μ›μΉ™ μ¤€μ
- **μΌκ΄€μ„±**: λ¨λ“  λ„λ©”μΈμ—μ„ ν†µμΌλ μ‘λ‹µ κµ¬μ΅°
- **ν™•μ¥μ„±**: μƒλ΅μ΄ μ—”λ“ν¬μΈνΈ μ¶”κ°€ μ©μ΄μ„±

#### 3. μ„λΉ„μ¤ ν†µν•©

- **ServiceFactory**: λ¨λ“  λΌμ°ν„°μ—μ„ μΌκ΄€λ μ„λΉ„μ¤ μ ‘κ·Ό
- **μ—λ¬ μ²λ¦¬**: HTTPException κΈ°λ° ν‘μ¤€ν™”λ μ—λ¬ μ‘λ‹µ
- **λ΅κΉ…**: κ° λ„λ©”μΈλ³„ μƒμ„Έν• λ΅κΉ… μ‹μ¤ν…

#### 4. μ„±λ¥ μµμ ν™”

- **κ²½λ΅ μµμ ν™”**: μ¤‘λ³µ prefix μ κ±°λ΅ κΉ”λ”ν• URL κµ¬μ΅°
- **λ©”λ¨λ¦¬ ν¨μ¨μ„±**: ν•„μ”μ‹μ—λ§ μ„λΉ„μ¤ μΈμ¤ν„΄μ¤ μƒμ„±
- **μ‘λ‹µ μ†λ„**: ν”λ μ΄μ¤ν™€λ”λ¥Ό ν†µν• λΉ λ¥Έ μ‘λ‹µ μ κ³µ

### 3.5 κ²€μ¦ κ²°κ³Ό β…

#### API λ“±λ΅ κ²€μ¦

```
β… Market Data λΌμ°ν„°κ°€ μ„±κ³µμ μΌλ΅ λ“±λ΅λ¨:
π“ Stock: 5κ° μ—”λ“ν¬μΈνΈ
π’Ό Fundamental: 5κ° μ—”λ“ν¬μΈνΈ
π“ Economic: 5κ° μ—”λ“ν¬μΈνΈ
π§  Intelligence: 4κ° μ—”λ“ν¬μΈνΈ
μ΄ 21κ° μ—”λ“ν¬μΈνΈ μ •μƒ λ“±λ΅
```

#### κ²½λ΅ κµ¬μ΅° κ²€μ¦

- β… `/api/v1/market-data/stock/daily/{symbol}`
- β… `/api/v1/market-data/fundamental/overview/{symbol}`
- β… `/api/v1/market-data/economic/gdp`
- β… `/api/v1/market-data/intelligence/news/{symbol}`

#### μ„λΉ„μ¤ μ—°λ™ κ²€μ¦

- β… StockService μ—°λ™ (daily_prices μ™„μ „ κµ¬ν„)
- β… FundamentalService μ—°λ™ (ν”λ μ΄μ¤ν™€λ” μ‘λ‹µ)
- β… EconomicIndicatorService μ—°λ™ (GDP, μΈν”λ μ΄μ… λ©”μ„λ“)
- β… IntelligenceService μ—°λ™ (λ‰΄μ¤, κ°μ • λ¶„μ„ λ©”μ„λ“)

## κΈ°μ μ  κ³ λ ¤μ‚¬ν•­

### 1. λ°μ΄ν„° λ¨λΈλ§

- **Pydantic v2** ν™μ©ν• νƒ€μ… μ•μ „μ„±
- **MongoDB** μΈλ±μ¤ μµμ ν™”
- **DuckDB** μ»¬λΌ μ €μ¥ μµμ ν™”

### 2. μ„±λ¥ μµμ ν™”

- **λΉ„λ™κΈ° μ²λ¦¬** (asyncio, aiohttp)
- **λ°°μΉ μ²λ¦¬** (bulk insert/update)
- **μΊμ‹± κ³„μΈµ** (Redis κ³ λ ¤)
- **μ—°κ²° ν’€λ§** (MongoDB, DuckDB)

### 3. μ—λ¬ μ²λ¦¬

- **μ¬μ‹λ„ λ΅μ§** (exponential backoff)
- **Rate limiting** (AlphaVantage API μ ν•)
- **Circuit breaker** ν¨ν„΄ μ μ©
- **λ΅κΉ… λ° λ¨λ‹ν„°λ§**

### 4. ν…μ¤νΈ μ „λµ

- **λ‹¨μ„ ν…μ¤νΈ** (κ° μ„λΉ„μ¤λ³„)
- **ν†µν•© ν…μ¤νΈ** (API μ—”λ“ν¬μΈνΈ)
- **μ„±λ¥ ν…μ¤νΈ** (λ¶€ν• ν…μ¤νΈ)
- **λ¨μ κ°μ²΄** (AlphaVantage API)

## λ§μΌμ¤ν†¤ λ° μΌμ •

### β… Week 1 (10/7 - 10/13): Phase 1, 2, 3 μ™„λ£

- [x] μƒλ΅μ΄ κµ¬μ΅° μ„¤κ³„ λ° μƒμ„± (Phase 1)
- [x] λ¨λΈ λ° μ¤ν‚¤λ§ μ •μ (Phase 1)
- [x] μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬ν„ (Phase 2)
- [x] ServiceFactory ν†µν•© (Phase 2)
- [x] API μ—”λ“ν¬μΈνΈ κµ¬ν„ (Phase 3)
- [x] λ„λ©”μΈλ³„ λΌμ°ν„° λ¶„λ¦¬ (Phase 3)
- [x] λ κ±°μ‹ μ¤ν‚¤λ§ μ κ±° λ° λ§μ΄κ·Έλ μ΄μ… (Phase 3)
- [x] 21κ° RESTful API μ—”λ“ν¬μΈνΈ μ™„μ„± (Phase 3)

### π”„ Week 2 (10/14 - 10/20): Phase 4 - μµμ ν™” λ° μ™„μ„±

- [ ] Alpha Vantage API κ° λ„λ©”μΈλ³„ μ™„μ „ μ—°λ™
- [ ] μΊμ‹± λ΅μ§ κµ¬μ²΄ν™” λ° μ„±λ¥ μµμ ν™”
- [ ] ν†µν•© ν…μ¤νΈ μ‘μ„± λ° μ‹¤ν–‰
- [ ] ν”λ μ΄μ¤ν™€λ” μ—”λ“ν¬μΈνΈλ¥Ό μ‹¤μ  κµ¬ν„μΌλ΅ μ™„μ„±

### Week 3 (10/21 - 10/27): Phase 4 μ™„λ£

- [ ] μ„±λ¥ μµμ ν™” λ° λ²¤μΉλ§ν‚Ή
- [ ] OpenAPI λ¬Έμ„ μ—…λ°μ΄νΈ
- [ ] ν”„λ΅ νΈμ—”λ“ ν΄λΌμ΄μ–ΈνΈ μ—°λ™
- [ ] λ¬Έμ„ν™” μ‘μ—… μ™„μ„±

### Week 4 (10/28 - 11/3): κ²€μ¦ λ° μµμ ν™”

- [ ] μ„±λ¥ ν…μ¤νΈ λ° μµμ ν™”
- [ ] ν”„λ΅λ•μ… λ°°ν¬ μ¤€λΉ„
- [ ] λ¨λ‹ν„°λ§ μ„¤μ •
- [ ] μµμΆ… κ²€μ¦ λ° λ°°ν¬

## λ¦¬μ¤ν¬ λ° λ€μ‘λ°©μ•

### 1. AlphaVantage API μ ν•

- **λ¦¬μ¤ν¬**: Rate limitingμΌλ΅ μΈν• μ§€μ—°
- **λ€μ‘**: μΊμ‹± μ „λµ κ°•ν™”, λ°°μΉ μ²λ¦¬ κµ¬ν„

### 2. λ°μ΄ν„° λ§μ΄κ·Έλ μ΄μ…

- **λ¦¬μ¤ν¬**: κΈ°μ΅΄ λ°μ΄ν„° μ†μ‹¤ λλ” λ¶μΌμΉ
- **λ€μ‘**: λ‹¨κ³„μ  λ§μ΄κ·Έλ μ΄μ…, λ°±μ—… μ „λµ

### 3. μ„±λ¥ μ €ν•

- **λ¦¬μ¤ν¬**: μƒλ΅μ΄ κµ¬μ΅°λ΅ μΈν• μ„±λ¥ μ΄μ
- **λ€μ‘**: λ²¤μΉλ§ν‚Ή, ν”„λ΅νμΌλ§, μµμ ν™”

### 4. μμ΅΄μ„± μ¶©λ

- **λ¦¬μ¤ν¬**: mysingle-quant μ—…λ°μ΄νΈλ΅ μΈν• νΈν™μ„± λ¬Έμ 
- **λ€μ‘**: λ²„μ „ κ³ μ •, ν…μ¤νΈ μλ™ν™”

## μ§„ν–‰ μƒν™© μ—…λ°μ΄νΈ

### β… μ™„λ£λ μ‘μ—… (2025-10-07)

#### Phase 1: μ¤μΌ€ν΄λ”© λ° κΈ°μ΄μ‘μ—… - 100% μ™„λ£ β…

**β… Task 1.1: μ„λΉ„μ¤ κµ¬μ΅° μƒμ„± - μ™„λ£**

- [x] `app/services/market_data_service/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] `base_service.py` - κ³µν†µ λ² μ΄μ¤ μ„λΉ„μ¤ ν΄λμ¤ μ •μ
- [x] `stock_service.py` - μ£Όμ‹ λ°μ΄ν„° μ„λΉ„μ¤ μ¤μΌ€ν΄λ”©
- [x] `fundamental_service.py` - κΈ°μ—… μ¬λ¬΄ λ°μ΄ν„° μ„λΉ„μ¤ μ¤μΌ€ν΄λ”©
- [x] `economic_indicator_service.py` - κ²½μ  μ§€ν‘ μ„λΉ„μ¤ μ¤μΌ€ν΄λ”©
- [x] `intelligence_service.py` - μΈν…”λ¦¬μ „μ¤ λ°μ΄ν„° μ„λΉ„μ¤ μ¤μΌ€ν΄λ”©
- [x] `__init__.py` - ν†µν•© μ„λΉ„μ¤ μΈν„°νμ΄μ¤ μ •μ

**β… Task 1.2: λ¨λΈ κµ¬μ΅° μƒμ„± - μ™„λ£**

- [x] `app/models/market_data/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] `base.py` - κ³µν†µ λ² μ΄μ¤ λ¨λΈ λ° DataQualityMixin μ •μ
- [x] `stock.py` - μ£Όμ‹ κ΄€λ ¨ λ¨λΈλ“¤ (DailyPrice, IntradayPrice, Quote, Dividend,
      Split)
- [x] `fundamental.py` - κΈ°μ—… μ¬λ¬΄ κ΄€λ ¨ λ¨λΈλ“¤ (CompanyOverview,
      IncomeStatement, BalanceSheet, CashFlow, Earnings)
- [x] `economic_indicator.py` - κ²½μ  μ§€ν‘ λ¨λΈλ“¤ (GDP, Inflation, InterestRate,
      Employment, Manufacturing, ConsumerSentiment)
- [x] `intelligence.py` - μΈν…”λ¦¬μ „μ¤ λ¨λΈλ“¤ (NewsSentiment, NewsArticle,
      AnalystRating, SocialSentiment, MarketMood, OptionFlow)
- [x] `__init__.py` - λ¨λ“  λ¨λΈ export λ° μ»¬λ ‰μ… λ¦¬μ¤νΈ μ •μ
- [x] MongoDB μΈλ±μ¤ λ° Pydantic v2 μ„¤μ • μ™„λ£
- [x] λ°μ΄ν„° ν’μ§ μ μ κ³„μ‚° λ©”μ„λ“ κµ¬ν„

**β… Task 1.3: API μ¤ν‚¤λ§ κµ¬μ΅° μƒμ„± - μ™„λ£**

- [x] `app/schemas/market_data/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [x] `base.py` - κ³µν†µ λ² μ΄μ¤ μ¤ν‚¤λ§ λ° κ³µμ  νƒ€μ… μ •μ
- [x] `stock.py` - μ£Όμ‹ κ΄€λ ¨ Request/Response μ¤ν‚¤λ§λ“¤
- [x] `fundamental.py` - κΈ°μ—… μ¬λ¬΄ κ΄€λ ¨ Request/Response μ¤ν‚¤λ§λ“¤
- [x] `economic_indicator.py` - κ²½μ  μ§€ν‘ κ΄€λ ¨ Request/Response μ¤ν‚¤λ§λ“¤
- [x] `intelligence.py` - μΈν…”λ¦¬μ „μ¤ κ΄€λ ¨ Request/Response μ¤ν‚¤λ§λ“¤
- [x] `__init__.py` - λ¨λ“  μ¤ν‚¤λ§ export
- [x] κ²€μ¦ λ΅μ§ λ° λ³€ν™ ν•¨μ κµ¬ν„

**π”„ Task 1.4: κΈ°μ΅΄ νμΌ μ •λ¦¬ - μ„ νƒμ‚¬ν•­ (λ κ±°μ‹ νΈν™μ„± μ μ§€)**

- [ ] κΈ°μ΅΄ `app/models/market_data.py` μ κ±° (λλ” νΈν™μ„± λνΌ μ μ§€)
- [ ] κΈ°μ΅΄ `app/schemas/market_data.py` μ κ±° (λλ” νΈν™μ„± λνΌ μ μ§€)
- [ ] imports λ° μμ΅΄μ„± μ—…λ°μ΄νΈ

#### Phase 2: μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬μ„± - 100% μ™„λ£ β…

**β… Task 2.1: λ² μ΄μ¤ μ„λΉ„μ¤ κµ¬ν„ - μ™„λ£**

- [x] `BaseMarketDataService` ν΄λμ¤ μ •μ
- [x] κ³µν†µ μΊμ‹± λ΅μ§ κµ¬ν„ (DuckDB + MongoDB)
- [x] λ°μ΄ν„° ν’μ§ κ²€μ¦ λ΅μ§ κµ¬ν„ (`DataQualityValidator`)
- [x] μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„ λ΅μ§ κµ¬ν„
- [x] `CacheResult` λ° `DataCoverage` ν΄λμ¤ μ¶”κ°€
- [x] μν™ import λ¬Έμ  ν•΄κ²°

**β… Task 2.2: κ° μ„λΉ„μ¤ κµ¬ν„ - μ™„λ£**

- [x] StockService κµ¬ν„ (μ™„μ „ν• daily_prices λ©”μ„λ“ + Alpha Vantage ν†µν•©)
- [x] FundamentalService κµ¬ν„ (κΈ°μ—… κ°μ”, μ¬λ¬΄μ ν‘ λ©”μ„λ“ ν”λ μ΄μ¤ν™€λ”)
- [x] EconomicIndicatorService κµ¬ν„ (GDP, μΈν”λ μ΄μ… λ©”μ„λ“ ν”λ μ΄μ¤ν™€λ”)
- [x] IntelligenceService κµ¬ν„ (λ‰΄μ¤, κ°μ • λ¶„μ„ λ©”μ„λ“ ν”λ μ΄μ¤ν™€λ”)
- [x] λ¨λ“  μ„λΉ„μ¤μ—μ„ μ¶”μƒ λ©”μ„λ“ `refresh_data_from_source` κµ¬ν„

**β… Task 2.3: ν†µν•© μ„λΉ„μ¤ κµ¬ν„ - μ™„λ£**

- [x] ServiceFactoryμ— λ¨λ“  μ„λΉ„μ¤ μ¶”κ°€ λ° ν†µν•©
- [x] μν™ import λ¬Έμ  ν•΄κ²° (base_service.pyμ—μ„ service_factory import μ κ±°)
- [x] μ¶”μƒ λ©”μ„λ“ κµ¬ν„ μ™„λ£ (λ¨λ“  μ„λΉ„μ¤μ—μ„ ABC νΈν™μ„± ν™•λ³΄)
- [x] μ„λΉ„μ¤ ν©ν† λ¦¬ ν¨ν„΄ μ μ© (μ‹±κΈ€ν†¤ ν¨ν„΄ + lazy loading)
- [x] μμ΅΄μ„± μ£Όμ… μ„¤μ • (DatabaseManager μ§μ ‘ μΈμ¤ν„΄μ¤ν™”)
- [x] λ΅κΉ… μ‹μ¤ν… ν†µν•©

### π—οΈ κµ¬ν„λ μ•„ν‚¤ν…μ²

#### μ„λΉ„μ¤ κ³„μΈµ κµ¬μ΅°

```
MarketDataService (ν†µν•© μ„λΉ„μ¤)
β”β”€β”€ stock: StockService β…
β”β”€β”€ fundamental: FundamentalService β…
β”β”€β”€ economic: EconomicIndicatorService β…
β””β”€β”€ intelligence: IntelligenceService β…

BaseMarketDataService (μ¶”μƒ λ² μ΄μ¤ ν΄λμ¤) β…
β”β”€β”€ κ³µν†µ μΊμ‹± λ΅μ§ (DuckDB L1 β†’ MongoDB L2)
β”β”€β”€ λ°μ΄ν„° ν’μ§ κ²€μ¦ (DataQualityValidator)
β”β”€β”€ μ¬μ‹λ„ λ©”μ»¤λ‹μ¦ (exponential backoff)
β”β”€β”€ μ—λ¬ ν•Έλ“¤λ§ (λ΅κΉ… + μμ™Έ μ²λ¦¬)
β””β”€β”€ Alpha Vantage API ν†µν•© (lazy loading)
```

#### μ£Όμ” κµ¬ν„ νΉμ§•

1. **μ¶”μƒ λ² μ΄μ¤ ν΄λμ¤**: λ¨λ“  μ„λΉ„μ¤κ°€ κ³µν†µ μΈν„°νμ΄μ¤ μƒμ† β…
2. **μΊμ‹± μ „λµ**: DuckDB(1μ°¨) β†’ MongoDB(2μ°¨) β†’ AlphaVantage(μ™Έλ¶€) β…
3. **μ¬μ‹λ„ λ΅μ§**: Exponential backoff ν¨ν„΄ μ μ© β…
4. **νƒ€μ… μ•μ „μ„±**: Pydantic v2 λ° TypeScript μ§€μ› β…
5. **μ„λΉ„μ¤ ν©ν† λ¦¬**: μμ΅΄μ„± μ£Όμ… λ° μ‹±κΈ€ν†¤ ν¨ν„΄ β…
6. **μν™ import ν•΄κ²°**: λ¨λ“ κ°„ μμ΅΄μ„± μ •λ¦¬ μ™„λ£ β…

#### μ™„μ„±λ μ„λΉ„μ¤ λ©λ΅

- β… **StockService**: μ£Όμ‹ λ°μ΄ν„° (daily_prices, μΊμ‹±, Alpha Vantage μ—°λ™)
- β… **FundamentalService**: κΈ°μ—… μ¬λ¬΄ (company_overview, financial_statements
  ν”λ μ΄μ¤ν™€λ”)
- β… **EconomicIndicatorService**: κ²½μ  μ§€ν‘ (GDP, inflation ν”λ μ΄μ¤ν™€λ”)
- β… **IntelligenceService**: μ‹μ¥ μΈν…”λ¦¬μ „μ¤ (news, sentiment ν”λ μ΄μ¤ν™€λ”)

#### ServiceFactory ν†µν•© κ²€μ¦ κ²°κ³Ό

```
β“ StockService μΈμ¤ν„΄μ¤ μƒμ„± μ„±κ³µ
β“ FundamentalService μΈμ¤ν„΄μ¤ μƒμ„± μ„±κ³µ
β“ EconomicIndicatorService μΈμ¤ν„΄μ¤ μƒμ„± μ„±κ³µ
β“ IntelligenceService μΈμ¤ν„΄μ¤ μƒμ„± μ„±κ³µ

π‰ λ¨λ“  μ„λΉ„μ¤κ°€ μ„±κ³µμ μΌλ΅ ServiceFactoryμ— ν†µν•©λμ—μµλ‹λ‹¤!

Service Types:
- Stock Service: StockService
- Fundamental Service: FundamentalService
- Economic Service: EconomicIndicatorService
- Intelligence Service: IntelligenceService
```

### π”§ κΈ°μ μ  κ²°μ •μ‚¬ν•­

#### 1. μ„λΉ„μ¤ ν¨ν„΄

- **Factory Pattern**: ServiceFactoryλ¥Ό ν†µν• μΈμ¤ν„΄μ¤ κ΄€λ¦¬
- **Dependency Injection**: DatabaseManager μ£Όμ…
- **Async Context Manager**: λ¦¬μ†μ¤ μλ™ μ •λ¦¬

#### 2. λ°μ΄ν„° λ¨λΈλ§

- **Domain-Driven Design**: λ„λ©”μΈλ³„ λ¨λΈ λ¶„λ¦¬
- **Aggregate Pattern**: κ΄€λ ¨ μ—”ν‹°ν‹° κ·Έλ£Ήν™”
- **Event Sourcing**: λ°μ΄ν„° λ³€κ²½ μ΄λ ¥ μ¶”μ  (ν–¥ν›„ κ³„ν)

#### 3. μΊμ‹± μ „λµ

- **Multi-Level Cache**: DuckDB(L1) + MongoDB(L2)
- **Cache-Aside Pattern**: μΊμ‹ λ―Έμ¤ μ‹ μ†μ¤μ—μ„ λ΅λ“
- **TTL Management**: λ°μ΄ν„° μ ν•λ³„ λ§λ£ μ •μ±…

### π§ λ‹¤μ λ‹¨κ³„ μ‘μ—…

#### μ¦‰μ‹ μ§„ν–‰ ν•„μ” (Phase 3 μ‹μ‘)

1. **API λΌμ°ν„° κµ¬ν„**

   - λ„λ©”μΈλ³„ λΌμ°ν„° λ¶„λ¦¬ (`/api/v1/market-data/{domain}/`)
   - RESTful API μ„¤κ³„ μ›μΉ™ μ μ©
   - κΈ°μ΅΄ market_data.py λΌμ°ν„° λ§μ΄κ·Έλ μ΄μ…

2. **μ„λΉ„μ¤ λ΅μ§ κµ¬μ²΄ν™”**

   - Alpha Vantage API κ° λ„λ©”μΈλ³„ μ™„μ „ μ—°λ™
   - μΊμ‹± λ©”μ»¤λ‹μ¦ κµ¬μ²΄μ  κµ¬ν„
   - λ°μ΄ν„° ν’μ§ κ²€μ¦ κ°•ν™”

3. **ν†µν•© ν…μ¤νΈ λ° κ²€μ¦**
   - API μ—”λ“ν¬μΈνΈ ν†µν•© ν…μ¤νΈ
   - μ„±λ¥ λ²¤μΉλ§ν‚Ή
   - μΊμ‹± ν¨μ¨μ„± κ²€μ¦

#### μ¤‘κΈ° κ³„ν (Phase 3 μ™„λ£)

1. **μ„±λ¥ μµμ ν™”**

   - λ°°μΉ μ²λ¦¬ κµ¬ν„
   - μ—°κ²° ν’€λ§ μµμ ν™”
   - λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μµμ ν™”

2. **ν”„λ΅λ•μ… μ¤€λΉ„**
   - λ¨λ‹ν„°λ§ λ° λ΅κΉ… κ°•ν™”
   - μ—λ¬ μ¶”μ  μ‹μ¤ν… μ—°λ™
   - λ¬Έμ„ν™” μ™„μ„±

#### μ¥κΈ° κ³„ν (Phase 4 μ΄ν›„)

1. **κ³ κΈ‰ κΈ°λ¥ κµ¬ν„**

   - μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°
   - λ¨Έμ‹ λ¬λ‹ κΈ°λ° λ°μ΄ν„° ν’μ§ μμΈ΅
   - μλ™ μ¤μΌ€μΌλ§ λ΅μ§

2. **ν”λ«νΌ ν™•μ¥**
   - μ¶”κ°€ λ°μ΄ν„° μ†μ¤ ν†µν•©
   - WebSocket API μ§€μ›
   - λ°μ΄ν„° νμ΄ν”„λΌμΈ μλ™ν™”

### π― μ„±κ³µ μ§€ν‘ ν„μ¬ μƒνƒ

| μ§€ν‘               | λ©ν‘                  | ν„μ¬ μƒνƒ    | μ§„ν–‰λ¥  |
| ------------------ | --------------------- | ------------ | ------ |
| **μ•„ν‚¤ν…μ² κµ¬μ΅°**  | λ„λ©”μΈλ³„ λ¶„λ¦¬         | β… μ™„λ£      | 100%   |
| **μ„λΉ„μ¤ ν†µν•©**    | ServiceFactory        | β… μ™„λ£      | 100%   |
| **μ¶”μƒν™” λ λ²¨**    | BaseMarketDataService | β… μ™„λ£      | 100%   |
| **API μ—”λ“ν¬μΈνΈ** | λ„λ©”μΈλ³„ λ¶„λ¦¬         | β… μ™„λ£      | 100%   |
| **RESTful μ„¤κ³„**   | ν‘μ¤€ μ¤€μ             | β… μ™„λ£      | 100%   |
| **νƒ€μ… μ•μ „μ„±**    | 100% νƒ€μ… ννΈ        | β… μ™„λ£      | 100%   |
| **μΊμ‹± μ‹μ¤ν…**    | λ©€ν‹°λ λ²¨ μΊμ‹±         | β… κΈ°λ° μ™„λ£ | 90%    |
| API μ‘λ‹µ μ‹κ°„      | < 500ms               | μΈ΅μ • μ „      | 0%     |
| λ°μ΄ν„° μ»¤λ²„λ¦¬μ§€    | > 95%                 | κµ¬ν„ μ „      | 30%    |
| API κ°€μ©μ„±         | > 99.5%               | κµ¬ν„ μ „      | 0%     |
| μ½”λ“ μ»¤λ²„λ¦¬μ§€      | > 80%                 | κµ¬ν„ μ „      | 0%     |
| API μ‚¬μ©λ‰ μ κ°    | > 50%                 | κµ¬ν„ μ „      | 40%    |

### π“ Phase 3 λ‹¬μ„± μ„±κ³Ό

#### β… μ™„λ£λ μ£Όμ” μ„±κ³Ό

1. **API μ•„ν‚¤ν…μ² μ™„μ „ λ¶„λ¦¬**: 4κ° λ„λ©”μΈλ³„ λΌμ°ν„° κµ¬μ΅° μ™„μ„±
2. **RESTful API μ„¤κ³„**: 21κ° ν‘μ¤€ μ¤€μ μ—”λ“ν¬μΈνΈ κµ¬ν„
3. **λ κ±°μ‹ μ κ±°**: κΈ°μ΅΄ μ¤ν‚¤λ§ μ™„μ „ μ κ±° λ° μƒ κµ¬μ΅° λ§μ΄κ·Έλ μ΄μ…
4. **νƒ€μ… μ•μ „μ„±**: λ¨λ“  νλΌλ―Έν„° λ―Έμ¤λ§¤μΉ λ° νƒ€μ… μ¤λ¥ μμ •
5. **ν†µν•© μ™„λ£**: κΈ°μ΅΄ market_data λΌμ°ν„°λ¥Ό μƒ κµ¬μ΅°λ΅ μ™„μ „ κµμ²΄

#### π”§ κΈ°μ μ  μ„±κ³Ό (μƒμ„Έ)

- **Stock API**: 5κ° μ—”λ“ν¬μΈνΈ
  - β… `daily_prices` Alpha Vantage μ—°λ™ μ™„λ£
  - π”„ `quote`, `intraday`, `historical`, `symbols` ν”λ μ΄μ¤ν™€λ” (Phase 4)
- **Fundamental API**: 5κ° μ—”λ“ν¬μΈνΈ (λ¨λ‘ Phase 4μ—μ„ Alpha Vantage μ—°λ™)
  - π”„ `overview`, `income-statement`, `balance-sheet`, `cash-flow`, `earnings`
- **Economic API**: 5κ° μ—”λ“ν¬μΈνΈ
  - β… `gdp`, `inflation` EconomicIndicatorService μ—°λ™ μ™„λ£
  - π”„ `interest-rates`, `employment`, `consumer-sentiment` ν”λ μ΄μ¤ν™€λ”
    (Phase 4)
- **Intelligence API**: 4κ° μ—”λ“ν¬μΈνΈ (λ¨λ‘ IntelligenceService μ—°λ™ μ™„λ£)
  - β… `news`, `sentiment`, `analyst-recommendations`, `social-sentiment`
- **κ³µν†µ API**: 2κ° μ—”λ“ν¬μΈνΈ (μ™„μ „ κµ¬ν„)
  - β… `/` (API μ •λ³΄), `/health` (ν—¬μ¤μ²΄ν¬)

#### οΏ½ μ•„ν‚¤ν…μ² κ°μ„  μ„±κ³Ό

- **λΌμ°ν„° κµ¬μ΅° μµμ ν™”**: `/api/v1/market-data/{domain}/` μΌκ΄€λ κµ¬μ΅°
- **ServiceFactory μ™„μ „ ν†µν•©**: λ¨λ“  μ„λΉ„μ¤ μμ΅΄μ„± μ£Όμ… μ™„μ„±
- **νƒ€μ… μ•μ „μ„± 100%**: dateβ†’datetime λ³€ν™ λ“± λ¨λ“  νƒ€μ… μ¤λ¥ ν•΄κ²°
- **μ—λ¬ μ²λ¦¬ ν‘μ¤€ν™”**: HTTPException κΈ°λ° μΌκ΄€λ μ—λ¬ μ‘λ‹µ
- **OpenAPI λ¬Έμ„ν™”**: λ„λ©”μΈλ³„ νƒκ·Έλ΅ κµ¬μ΅°ν™”λ API λ¬Έμ„

#### οΏ½π“ μ„±λ¥ λ° ν™•μ¥μ„±

- **API κ²½λ΅ μµμ ν™”**: μ¤‘λ³µ prefix μ κ±°λ΅ κΉ”λ”ν• URL κµ¬μ΅°
- **μ„λΉ„μ¤ ν†µν•©**: ServiceFactory ν¨ν„΄μΌλ΅ μΌκ΄€λ μμ΅΄μ„± μ£Όμ…
- **ν™•μ¥μ„±**: μƒλ΅μ΄ λ„λ©”μΈ/μ—”λ“ν¬μΈνΈ μ¶”κ°€ μ©μ΄μ„± ν™•λ³΄
- **μ μ§€λ³΄μμ„±**: λ„λ©”μΈλ³„ μ½”λ“ λ¶„λ¦¬λ΅ κ°λ°/λ””λ²„κΉ… ν¨μ¨μ„± ν–¥μƒ

#### π”§ ν•΄κ²°λ κΈ°μ μ  λ¬Έμ λ“¤

1. **λ κ±°μ‹ μ¤ν‚¤λ§ μμ΅΄μ„± μ κ±°**: `HealthCheckResponse` import μ¤λ¥ ν•΄κ²°
2. **νλΌλ―Έν„° νƒ€μ… λ―Έμ¤λ§¤μΉ**: `date`β†’`datetime` λ³€ν™ λ΅μ§ κµ¬ν„
3. **μ„λΉ„μ¤ λ©”μ„λ“ νΈμ¶ λ¶μΌμΉ**: APIμ™€ μ„λΉ„μ¤ κ°„ νλΌλ―Έν„°λ… μ •λ ¬
4. **μ¤‘λ³µ λΌμ°ν„° κ²½λ΅**: prefix μ¤‘λ³µ μ κ±°λ΅ κΉ”λ”ν• URL κµ¬μ΅° μ™„μ„±

**π“‹ μƒμ„Έ λ¶„μ„ λ³΄κ³ μ„**: `docs/backend/PHASE3_COMPLETION_REPORT.md` μ°Έμ΅°

### π“‹ μ‘μ—… μ°μ„ μμ„

#### π€ Phase 4: Alpha Vantage μ™„μ „ ν†µν•© (μ΄λ² μ£Ό λ©ν‘)

##### Task 4.1: Stock API μ™„μ„± (Priority: Critical)

- [ ] **Quote API κµ¬ν„**: `get_real_time_quote()` Alpha Vantage GLOBAL_QUOTE
      μ—°λ™
- [ ] **Intraday API κµ¬ν„**: `get_intraday_data()` Alpha Vantage
      TIME_SERIES_INTRADAY μ—°λ™
- [ ] **Historical API κµ¬ν„**: `get_historical_data()` Alpha Vantage
      TIME_SERIES_DAILY_ADJUSTED μ—°λ™
- [ ] **Symbol Search κµ¬ν„**: `search_symbols()` Alpha Vantage SYMBOL_SEARCH
      μ—°λ™

##### Task 4.2: Fundamental API μ™„μ„± (Priority: High)

- [ ] **Company Overview**: `get_company_overview()` Alpha Vantage OVERVIEW μ—°λ™
- [ ] **Income Statement**: `get_income_statement()` Alpha Vantage
      INCOME_STATEMENT μ—°λ™
- [ ] **Balance Sheet**: `get_balance_sheet()` Alpha Vantage BALANCE_SHEET μ—°λ™
- [ ] **Cash Flow**: `get_cash_flow()` Alpha Vantage CASH_FLOW μ—°λ™
- [ ] **Earnings**: `get_earnings()` Alpha Vantage EARNINGS μ—°λ™

##### Task 4.3: Economic Indicator API μ™„μ„± (Priority: High)

- [ ] **Interest Rates**: `get_interest_rates()` Alpha Vantage
      FEDERAL_FUNDS_RATE μ—°λ™
- [ ] **Employment Data**: `get_employment_data()` Alpha Vantage UNEMPLOYMENT
      μ—°λ™
- [ ] **Consumer Sentiment**: `get_consumer_sentiment()` Alpha Vantage
      UNIVERSITY_OF_MICHIGAN μ—°λ™

##### Task 4.4: Intelligence API μ™„μ„± (Priority: Medium) β… **μ™„λ£**

- [x] **News API**: `get_news()` Alpha Vantage NEWS_SENTIMENT μ‹¤μ  μ—°λ™ μ™„λ£
- [x] **Sentiment Analysis**: `get_sentiment_analysis()` Alpha Vantage κ°μ • λ¶„μ„
      μ—°λ™ μ™„λ£
- [x] **Analyst Recommendations**: `get_analyst_recommendations()`
      INSIDER_TRANSACTIONS μ—°λ™ μ™„λ£
- [x] **Social Sentiment**: `get_social_sentiment()` λ‰΄μ¤ κΈ°λ° κ°μ • λ¶„μ„ μ—°λ™
      μ™„λ£
- [x] **Market Buzz**: `get_market_buzz()` TOP_GAINERS_LOSERS μ—°λ™ μ™„λ£
- [x] **News Impact Analysis**: `analyze_news_impact()` λ‰΄μ¤ μν–¥λ„ λ¶„μ„ μ™„λ£

#### π“ Phase 4 μ„±κ³µ μ§€ν‘

| λ©ν‘                  | ν„μ¬ μƒνƒ       | λ©ν‘ μƒνƒ       | μ°μ„ μμ„ | μƒνƒ        |
| --------------------- | --------------- | --------------- | -------- | ----------- |
| Stock API κµ¬ν„        | 1/5 μ™„λ£        | 5/5 μ™„λ£        | Critical | π”„ μ§„ν–‰μ¤‘   |
| Fundamental API κµ¬ν„  | 0/5 μ™„λ£        | 5/5 μ™„λ£        | High     | β³ λ€κΈ°μ¤‘   |
| Economic API κµ¬ν„     | 2/5 μ™„λ£        | 5/5 μ™„λ£        | High     | β³ λ€κΈ°μ¤‘   |
| Intelligence API κµ¬ν„ | β… **6/6 μ™„λ£** | 6/6 μ‹¤μ  λ°μ΄ν„° | Medium   | β… **μ™„λ£** |
| API μ‘λ‹µ μ‹κ°„         | μΈ΅μ • μ „         | < 500ms         | High     | β³ λ€κΈ°μ¤‘   |
| μΊμ‹ ννΈμ¨           | μΈ΅μ • μ „         | > 80%           | High     | β³ λ€κΈ°μ¤‘   |

#### π‰ Intelligence API μ™„μ„± μ„±κ³Ό

**μ™„μ„±λ λ©”μ„λ“ (6κ°)**:

1. β… `get_news()` - Alpha Vantage NEWS_SENTIMENT API μ—°λ™
2. β… `get_sentiment_analysis()` - λ‰΄μ¤ κΈ°λ° κ°μ • λ¶„μ„ μ§‘κ³„
3. β… `get_analyst_recommendations()` - INSIDER_TRANSACTIONS API μ—°λ™
4. β… `get_social_sentiment()` - λ‰΄μ¤ κΈ°λ° μ†μ… κ°μ • λ¶„μ„
5. β… `get_market_buzz()` - TOP_GAINERS_LOSERS API μ—°λ™
6. β… `analyze_news_impact()` - λ‰΄μ¤ μν–¥λ„ λ¶„μ„

**ν…μ¤νΈ κ²°κ³Ό**: β… λ¨λ“  λ©”μ„λ“ μ •μƒ λ™μ‘ ν™•μΈ

#### π”„ Phase 4 κ°λ° μ›ν¬ν”λ΅μ°

1. **Alpha Vantage API μ—°λ™ ν¨ν„΄ ν‘μ¤€ν™”**

   ```python
   # ν‘μ¤€ ν¨ν„΄: rate limit + cache + error handling
   async def get_data(self, symbol: str, **kwargs):
       # 1. DuckDB μΊμ‹ ν™•μΈ
       # 2. Alpha Vantage API νΈμ¶ (rate limit μ μ©)
       # 3. λ°μ΄ν„° κ²€μ¦ λ° λ³€ν™
       # 4. μΊμ‹ μ €μ¥ (DuckDB + MongoDB)
       # 5. μ‘λ‹µ λ°ν™
   ```

2. **ν…μ¤νΈ μ£Όλ„ κ°λ° (TDD)**

   - κ° API λ©”μ„λ“λ³„ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±
   - Alpha Vantage Mock μ‘λ‹µ κΈ°λ° ν…μ¤νΈ
   - ν†µν•© ν…μ¤νΈ (μ‹¤μ  API νΈμ¶ ν¬ν•¨)

3. **μ„±λ¥ μµμ ν™”**
   - DuckDB μΏΌλ¦¬ μµμ ν™”
   - λ³‘λ ¬ API νΈμ¶ κµ¬ν„
   - μΊμ‹ μ „λµ κ°μ„ 

#### π― Phase 4 μ™„λ£ μ΅°κ±΄

- [ ] **16κ° ν”λ μ΄μ¤ν™€λ” μ—”λ“ν¬μΈνΈ β†’ μ‹¤μ  κµ¬ν„**
- [ ] **λ¨λ“  Alpha Vantage API νƒ€μ… ν†µν•©** (μ£Όμ‹, μ¬λ¬΄, κ²½μ , λ‰΄μ¤)
- [ ] **ν†µν•© ν…μ¤νΈ 100% ν†µκ³Ό**
- [ ] **API μ‘λ‹µ μ‹κ°„ < 500ms λ‹¬μ„±**
- [ ] **μΊμ‹ ννΈμ¨ > 80% λ‹¬μ„±**
- [ ] **OpenAPI λ¬Έμ„ μ™„μ „ μ—…λ°μ΄νΈ**

#### π“… Phase 4 νƒ€μ„λΌμΈ (1μ£ΌμΌ)

**Day 1-2**: Stock API μ™„μ„± + Fundamental API κΈ°μ΄ **Day 3-4**: Fundamental API
μ™„μ„± + Economic API μ™„μ„±  
**Day 5-6**: Intelligence API μ™„μ„± + μ„±λ¥ μµμ ν™” **Day 7**: ν†µν•© ν…μ¤νΈ + λ¬Έμ„
μ—…λ°μ΄νΈ + λ°°ν¬ μ¤€λΉ„

#### Medium Priority (λ‹¤μ μ£Ό - Phase 5)

1. **ν†µν•© ν…μ¤νΈ κµ¬ν„**

   - API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ (21κ° μ—”λ“ν¬μΈνΈ)
   - μ„λΉ„μ¤ κ°„ ν†µν•© ν…μ¤νΈ
   - μ„±λ¥ λ²¤μΉλ§ν‚Ή λ° μµμ ν™”

2. **OpenAPI λ¬Έμ„ μ—…λ°μ΄νΈ**
   - TypeScript ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
   - ν”„λ΅ νΈμ—”λ“ ν΄λΌμ΄μ–ΈνΈ μ—…λ°μ΄νΈ
   - API λ¬Έμ„ μλ™ μƒμ„± μ™„μ„±

#### Low Priority (μ¶”ν›„)

1. **κ³ κΈ‰ κΈ°λ¥ κµ¬ν„**

   - μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°
   - λ¨Έμ‹ λ¬λ‹ κΈ°λ° ν’μ§ μμΈ΅
   - μλ™ μ¤μΌ€μΌλ§ λ΅μ§

2. **λ¨λ‹ν„°λ§ μ‹μ¤ν…**
   - μ„±λ¥ λ©”νΈλ¦­ μμ§‘
   - μ—λ¬ μ¶”μ  μ‹μ¤ν…
   - μ•λ¦Ό μ‹μ¤ν… κµ¬μ¶•

### β οΈ μ£Όμμ‚¬ν•­ λ° μ„ν— μ”μ†

1. **Alpha Vantage API μ ν•**

   - Rate limiting (5 calls/min) μ¤€μ ν•„μ”
   - κ° λ„λ©”μΈλ³„ API ν‚¤ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§

2. **ν”λ μ΄μ¤ν™€λ” κµ¬ν„ μ°μ„ μμ„**

   - μ‚¬μ© λΉλ„κ°€ λ†’μ€ μ—”λ“ν¬μΈνΈ μ°μ„  κµ¬ν„
   - MVP κΈ°λ¥ λ¨Όμ € μ™„μ„± ν›„ κ³ κΈ‰ κΈ°λ¥ μ¶”κ°€

3. **μ„±λ¥ μ΄μ**
   - μƒλ΅μ΄ λ„λ©”μΈλ³„ κµ¬μ΅°λ΅ μΈν• λΌμ°ν… μ¤λ²„ν—¤λ“ μµμ†ν™”
   - μ„λΉ„μ¤ μΈμ¤ν„΄μ¤ μƒμ„± λΉ„μ© μµμ ν™”

### π“ λ‹¤μ μ„Έμ… κ³„ν

#### Phase 4 μ°μ„  μ‘μ—… (Alpha Vantage μ™„μ „ ν†µν•©)

1. **κ° λ„λ©”μΈλ³„ Alpha Vantage API μ™„μ „ μ—°λ™**

   - `FundamentalService`: company_overview, financial_statements μ‹¤μ  κµ¬ν„
   - `EconomicIndicatorService`: κΈλ¦¬, κ³ μ© μ§€ν‘ Alpha Vantage API μ—°λ™
   - `IntelligenceService`: λ‰΄μ¤, κ°μ • λ¶„μ„ Alpha Vantage API μ—°λ™
   - `StockService`: quote, intraday λ©”μ„λ“ Alpha Vantage API μ—°λ™

2. **ν”λ μ΄μ¤ν™€λ” μ κ±° λ° μ‹¤μ  κµ¬ν„**

   - 21κ° μ—”λ“ν¬μΈνΈ μ¤‘ ν„μ¬ ν”λ μ΄μ¤ν™€λ”μΈ 16κ° μ—”λ“ν¬μΈνΈ μ‹¤μ  κµ¬ν„
   - Alpha Vantage API μ‘λ‹µ λ°μ΄ν„°λ¥Ό λ¨λΈ/μ¤ν‚¤λ§μ— λ§κ² λ³€ν™
   - μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„ λ΅μ§ κ° λ„λ©”μΈλ³„ κµ¬μ²΄ν™”

3. **ν†µν•© ν…μ¤νΈ λ° μ„±λ¥ μµμ ν™”**
   - λ¨λ“  μ—”λ“ν¬μΈνΈ ν†µν•© ν…μ¤νΈ μ‘μ„±
   - API μ‘λ‹µ μ‹κ°„ λ²¤μΉλ§ν‚Ή
   - μΊμ‹± ν¨μ¨μ„± μΈ΅μ • λ° μµμ ν™”

---

## π‰ Phase 3 μ™„λ£ μ”μ•½ (2025-10-07)

### ν•µμ‹¬ μ„±κ³Ό

- β… **API μ•„ν‚¤ν…μ² μ™„μ „ λ¶„λ¦¬**: 4κ° λ„λ©”μΈλ³„ λΌμ°ν„° (21κ° μ—”λ“ν¬μΈνΈ)
- β… **RESTful API μ„¤κ³„**: ν‘μ¤€ μ¤€μ URL κµ¬μ΅° λ° HTTP λ©”μ„λ“
- β… **λ κ±°μ‹ μ¤ν‚¤λ§ μ κ±°**: μ™„μ „ν• λ§μ΄κ·Έλ μ΄μ…μΌλ΅ κΈ°μ  λ¶€μ±„ ν•΄κ²°
- β… **νƒ€μ… μ•μ „μ„± ν™•λ³΄**: λ¨λ“  νλΌλ―Έν„° λ―Έμ¤λ§¤μΉ λ° νƒ€μ… μ¤λ¥ μμ •
- β… **ν†µν•© μ™„λ£**: κΈ°μ΅΄ market_data β†’ μƒλ΅μ΄ λ„λ©”μΈλ³„ κµ¬μ΅° κµμ²΄

### κΈ°μ μ  λ‹¬μ„±

- **ν™•μ¥ κ°€λ¥ν• API κµ¬μ΅°**: μƒλ΅μ΄ μ—”λ“ν¬μΈνΈ μ¶”κ°€ μ©μ΄μ„±
- **μ„λΉ„μ¤ ν†µν•©**: ServiceFactory ν¨ν„΄μΌλ΅ μΌκ΄€λ μμ΅΄μ„± μ£Όμ…
- **κ²½λ΅ μµμ ν™”**: μ¤‘λ³µ μ κ±°λ΅ κΉ”λ”ν• `/api/v1/market-data/{domain}/` κµ¬μ΅°
- **κ°λ°μ κ²½ν—**: λ„λ©”μΈλ³„ μ½”λ“ λ¶„λ¦¬λ΅ μ μ§€λ³΄μμ„± ν–¥μƒ

### Phase 4 μ¤€λΉ„λ„

- **λ¨λΈ/μ¤ν‚¤λ§**: 100% μ™„λ£ (Phase 1)
- **μ„λΉ„μ¤ λ μ΄μ–΄**: 100% μ™„λ£ (Phase 2)
- **API λ μ΄μ–΄**: 100% μ™„λ£ (Phase 3)
- **Alpha Vantage μ—°λ™**: 25% β†’ Phase 4μ—μ„ μ™„μ„± μμ •
- **ν…μ¤νΈ/λ¬Έμ„**: 0% β†’ Phase 4μ—μ„ κµ¬ν„ μμ •

**λ‹¤μ μ‘μ—…**: Alpha Vantage API μ™„μ „ μ—°λ™ λ° ν”λ μ΄μ¤ν™€λ” μ‹¤μ  κµ¬ν„ π€
