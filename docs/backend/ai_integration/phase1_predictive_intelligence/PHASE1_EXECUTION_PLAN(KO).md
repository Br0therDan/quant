# 1단계 실행 계획 – 예측 인텔리전스 활성화

이 플레이북은 1단계 범위를 엔지니어링·데이터·프로덕트 파트너가 따라갈 수 있는
구체적이고 시간 순서에 따른 작업 패키지로 전환한다. 전체 일정은 6주(2025-01-06 →
2025-02-14)를 가정하며 산출물 D1~D3, 마일스톤 M1~M4와 정렬된다.

## 1주차 – 킥오프 및 피처 명세 (2025-01-06 → 2025-01-10)

1. **정렬 워크숍:** 이해관계자와 Strategy & Backtest 아키텍처 다이어그램을
   검토해 MLSignalService, 레짐 감지, 확률 KPI 추론의 서비스 통합 지점을
   확정한다.
2. **데이터 감사:** DuckDB 테이블, MongoDB 컬렉션, Alpha Vantage 적재 범위를
   인벤토리화하고 모델 학습을 막을 수 있는 공백을 표시한다.
3. **피처 백로그 초안:** 데이터 엔지니어링과 퀀트 리서치가 페어링해 시그널·레짐
   분류·포트폴리오 예측용 후보 피처 목록을 작성한다.
4. **스키마 및 계약 업데이트:** 새로운 필드를 노출하기 위해 필요한 DuckDB 스키마
   변경과 API 계약 조정을 문서화한다.
5. **마일스톤 M1 게이트:** 피처 목록과 스키마 업데이트에 대한 승인을 확보하고
   결정을 프로젝트 문서에 기록한다.

## 2주차 – 피처 엔지니어링 기반 구축 (2025-01-13 → 2025-01-17)

1. **DuckDB 파이프라인 구현:** 시그널과 레짐 라벨링에 필요한 롤링 지표, 수익률,
   변동성 지표를 계산하는 저장 프로시저 또는 SQL 뷰를 구축한다.
2. **작업 스케줄러 통합:** 마켓데이터 리프레시 작업을 업데이트해 새로운 피처를
   채우고 파이프라인 SLA를 기록한다.
3. **데이터 품질 훅:** 모델 학습 전 피처 신뢰성을 보호하기 위해 결측치·급등락
   탐지를 포함한 이상 감지 가드레일을 구현한다.
4. **피처 검증 세션:** 퀀트 리서처와 출력을 검토하고 피처 윈도우와 정규화 전략을
   반복 개선한다.

## 3주차 – 모델 개발 스프린트 1 (2025-01-20 → 2025-01-24)

1. **시그널 모델 학습:** 엔지니어링된 피처로 LightGBM/CatBoost 분류기를 학습하고
   정확도/AUC 및 SHAP 피처 기여도를 평가한다.
2. **레짐 분류기 프로토타입:** HMM, GMM, 클러스터링 접근을 시험해 시장 레짐을
   가장 잘 포착하는 모델을 선정한다.
3. **포트폴리오 예측 베이스라인:** 집계된 포트폴리오 에쿼티 커브로 Prophet 또는
   TFT 모델을 초기 학습시켜 백분위 예측을 생성한다.
4. **아티팩트 관리:** MLflow 또는 joblib으로 모델을 버전 관리하고 학습 데이터셋,
   하이퍼파라미터, 평가 지표를 문서화한다.
5. **마일스톤 M2 게이트:** 교차 검증 지표를 공유하고 v1 모델 아티팩트 동결
   승인을 확보한다.

## 4주차 – 서비스 통합 스프린트 2 (2025-01-27 → 2025-01-31)

1. **ServiceFactory 확장:** MLSignalService, RegimeDetectionService,
   ProbabilisticKPIService를 의존성 주입으로 등록한다.
2. **API 라우트 구현:** `/signals/{symbol}`, `/market-data/regime`, 포트폴리오
   예측 엔드포인트를 노출해 확률·레짐·백분위 밴드를 반환한다.
3. **BacktestService 오케스트레이션:** 백테스트가 시그널 점수를 요청하고 확률
   KPI 출력을 수신하도록 오케스트레이터 흐름을 업데이트한다.
4. **영속 레이어 업데이트:** 레짐 라벨을 MongoDB에 저장하고 향후 분석을 위해
   DuckDB에 과거 예측 평가를 기록한다.
5. **통합 리뷰:** 신규 라우트를 통한 엔드투엔드 호출을 실행해 페이로드 구조와
   지연 예산을 확인한다.

## 5주차 – 분석 활성화 및 하드닝 (2025-02-03 → 2025-02-07)

1. **DashboardService 개선:** 레짐 메타데이터와 확률 KPI 출력을 기존 KPI와 함께
   노출한다.
2. **배치 운영:** 레짐 라벨과 예측 분포를 갱신하는 일일 작업을 설정해 재현
   가능한 파이프라인을 보장한다.
3. **모니터링 계측:** 모델 로드 실패, 피처 정체, API SLA 위반을 탐지하는
   로깅·지표·알림을 추가한다.
4. **마일스톤 M3 게이트:** API 통합 리뷰를 수행하고 ServiceFactory 레지스트리
   업데이트와 스테이징 배포 준비 상태를 검증한다.

## 6주차 – 검증, 데모, 인수인계 (2025-02-10 → 2025-02-14)

1. **시스템 QA:** ServiceFactory 등록, API 계약, 예측 보정 검사를 포함한 회귀
   테스트를 실행한다.
2. **성능 검증:** 추론 지연과 리소스 사용량을 벤치마크하고 필요 시 캐싱·배칭
   전략을 조정한다.
3. **문서 및 런북:** 최종 구현 세부사항으로 피처 명세, API 스키마, 운영 런북을
   업데이트한다.
4. **이해관계자 데모:** BacktestService가 시그널 점수를 활용하고 대시보드에서
   예측 백분위를 표시하는 모습을 시연한다.
5. **마일스톤 M4 게이트:** 프로덕트 승인을 받고 2단계 계획을 위한 교훈을
   정리한다.

## 횡단 관행

- **위험 관리:** 데이터 피드 공백과 오케스트레이터 통합 복잡성을 매주 검토하고
  마스터 플랜에서 정의한 비상 대응 플레이북을 적용한다.
- **커뮤니케이션 리듬:** Strategy & Backtest 스쿼드와 주간 스프린트 리뷰를
  유지하고 단계 중반 아키텍처 리뷰를 실시한다.
- **품질 게이트:** 각 산출물이 자동화 테스트, ServiceFactory 등록 점검, 문서
  업데이트를 포함하도록 보장한 후 승인한다.
